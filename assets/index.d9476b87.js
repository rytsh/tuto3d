import{w as e,S as t,i as n,s as o,a as s,c as a,b as i,d as r,e as l,n as d,f as c,g as h,h as g,j as p,k as f,l as m,x as u,m as w,o as v,t as C,p as x,q as b,r as y,u as E,v as S,y as L,z as M,A as P,B as k,C as A,D as B,E as H,F as R,G as j,H as T,I as z,J as F,K as I,L as D,M as N,N as $,O,P as V,R as G,Q as Y,T as W,W as _,U as X,V as U,X as q,Y as Z,Z as K,_ as J,$ as Q,a0 as ee,a1 as te,a2 as ne,a3 as oe,a4 as se,a5 as ae,a6 as ie,a7 as re,a8 as le,a9 as de,aa as ce,ab as he,ac as ge,ad as pe,ae as fe,af as me,ag as ue,ah as we,ai as ve,aj as Ce,ak as xe,al as be,am as ye,an as Ee,ao as Se,ap as Le,aq as Me,ar as Pe,as as ke,at as Ae,au as Be,av as He,aw as Re,ax as je,ay as Te,az as ze,aA as Fe,aB as Ie,aC as De,aD as Ne,aE as $e,aF as Oe,aG as Ve,aH as Ge,aI as Ye,aJ as We,aK as _e,aL as Xe,aM as Ue,aN as qe,aO as Ze,aP as Ke,aQ as Je,aR as Qe,aS as et,aT as tt,aU as nt,aV as ot,aW as st,aX as at,aY as it,aZ as rt,a_ as lt,a$ as dt,b0 as ct,b1 as ht,b2 as gt,b3 as pt,b4 as ft}from"./vendor.8a2d68e8.js";const mt=e(""),ut=e(!1),wt=e(void 0),vt=e({resize:!1});function Ct(e){let t,n,o;return{c(){t=s("svg"),n=s("path"),this.h()},l(e){t=a(e,"svg",{xmlns:!0,class:!0,width:!0,height:!0,viewBox:!0},1);var o=i(t);n=a(o,"path",{d:!0},1),i(n).forEach(r),o.forEach(r),this.h()},h(){l(n,"d",o=e[3][e[0]]),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"class",d(e[4]?e[4]:void 0)+" svelte-fnv3u2"),l(t,"width",e[2]),l(t,"height",e[1]),l(t,"viewBox","0 0 24 24")},m(e,o){c(e,t,o),h(t,n)},p(e,[s]){9&s&&o!==(o=e[3][e[0]])&&l(n,"d",o),4&s&&l(t,"width",e[2]),2&s&&l(t,"height",e[1])},i:g,o:g,d(e){e&&r(t)}}}function xt(e,t,n){var o,s;(s=o||(o={})).plus="M24 9h-9v-9h-6v9h-9v6h9v9h6v-9h9z",s.arrow="M8.122 24l-4.122-4 8-8-8-8 4.122-4 11.878 12z",s.close="M24 20.188l-8.315-8.209 8.2-8.282-3.697-3.697-8.212 8.318-8.31-8.203-3.666 3.666 8.321 8.24-8.206 8.313 3.666 3.666 8.237-8.318 8.285 8.203z";let{icon:a}=t,{height:i="24"}=t,{width:r="24"}=t,{className:l}=t,{position:d}=t;const c=[l,d].join(" ");return e.$$set=e=>{"icon"in e&&n(0,a=e.icon),"height"in e&&n(1,i=e.height),"width"in e&&n(2,r=e.width),"className"in e&&n(5,l=e.className),"position"in e&&n(6,d=e.position)},[a,i,r,o,c,l,d]}class bt extends t{constructor(e){super(),n(this,e,xt,Ct,o,{icon:0,height:1,width:2,className:5,position:6})}}const yt=new p.Converter({noHeaderId:!0,simplifiedAutoLink:!0,openLinksInNewWindow:!0});f.registerLanguage("javascript",m),f.registerLanguage("http",u),f.registerLanguage("scss",w);function Et(e,t,n){const o=e.slice();return o[6]=t[n],o[8]=n,o}function St(e){let t,n,o,s,d,p,f=e[6]+"";return{c(){t=x("div"),o=b(),this.h()},l(e){t=a(e,"DIV",{class:!0});var n=i(t);o=y(n),n.forEach(r),this.h()},h(){n=new D(o),l(t,"class","part svelte-1b2w5wc")},m(e,s){c(e,t,s),n.m(f,t),h(t,o),p=!0},p:g,i(e){p||(E((()=>{d&&d.end(1),s||(s=S(t,N,{delay:200})),s.start()})),p=!0)},o(e){s&&s.invalidate(),d=L(t,N,{duration:200}),p=!1},d(e){e&&r(t),e&&d&&d.end()}}}function Lt(e){let t,n,o=e[8]==e[0]&&St(e);return{c(){o&&o.c(),t=v()},l(e){o&&o.l(e),t=v()},m(e,s){o&&o.m(e,s),c(e,t,s),n=!0},p(e,n){e[8]==e[0]?o?(o.p(e,n),1&n&&C(o,1)):(o=St(e),o.c(),C(o,1),o.m(t.parentNode,t)):o&&(M(),P(o,1,1,(()=>{o=null})),k())},i(e){n||(C(o),n=!0)},o(e){P(o),n=!1},d(e){o&&o.d(e),e&&r(t)}}}function Mt(e){let t,n,o,s,d,g,p,f,m,u,w,v,E,S,L,F,I,D,N=e[2],$=[];for(let a=0;a<N.length;a+=1)$[a]=Lt(Et(e,N,a));const O=e=>P($[e],1,1,(()=>{$[e]=null}));return g=new bt({props:{icon:"arrow",position:"left"}}),u=new bt({props:{icon:"arrow"}}),{c(){t=x("div"),n=x("div");for(let e=0;e<$.length;e+=1)$[e].c();o=b(),s=x("div"),d=x("button"),A(g.$$.fragment),f=b(),m=x("button"),A(u.$$.fragment),v=b(),E=x("span"),S=x("span"),this.h()},l(e){t=a(e,"DIV",{class:!0});var l=i(t);n=a(l,"DIV",{});var c=i(n);for(let t=0;t<$.length;t+=1)$[t].l(c);c.forEach(r),o=y(l),s=a(l,"DIV",{class:!0});var h=i(s);d=a(h,"BUTTON",{type:!0,disabled:!0,class:!0});var p=i(d);B(g.$$.fragment,p),p.forEach(r),f=y(h),m=a(h,"BUTTON",{type:!0,disabled:!0,class:!0});var w=i(m);B(u.$$.fragment,w),w.forEach(r),h.forEach(r),l.forEach(r),v=y(e),E=a(e,"SPAN",{class:!0});var C=i(E);S=a(C,"SPAN",{class:!0,style:!0}),i(S).forEach(r),C.forEach(r),this.h()},h(){l(d,"type","button"),d.disabled=p=0==e[0],l(d,"class","svelte-1b2w5wc"),l(m,"type","button"),m.disabled=w=e[1].length-1==e[0],l(m,"class","svelte-1b2w5wc"),l(s,"class","clickp svelte-1b2w5wc"),l(t,"class","fitm svelte-1b2w5wc"),l(S,"class","width svelte-1b2w5wc"),l(S,"style",L=`width: ${(e[0]+1)/e[1].length*100}%;`),l(E,"class","progress svelte-1b2w5wc")},m(a,i){c(a,t,i),h(t,n);for(let e=0;e<$.length;e+=1)$[e].m(n,null);h(t,o),h(t,s),h(s,d),H(g,d,null),h(s,f),h(s,m),H(u,m,null),c(a,v,i),c(a,E,i),h(E,S),F=!0,I||(D=[R(d,"click",e[4]),R(m,"click",e[3])],I=!0)},p(e,[t]){if(5&t){let o;for(N=e[2],o=0;o<N.length;o+=1){const s=Et(e,N,o);$[o]?($[o].p(s,t),C($[o],1)):($[o]=Lt(s),$[o].c(),C($[o],1),$[o].m(n,null))}for(M(),o=N.length;o<$.length;o+=1)O(o);k()}(!F||1&t&&p!==(p=0==e[0]))&&(d.disabled=p),(!F||1&t&&w!==(w=e[1].length-1==e[0]))&&(m.disabled=w),(!F||1&t&&L!==(L=`width: ${(e[0]+1)/e[1].length*100}%;`))&&l(S,"style",L)},i(e){if(!F){for(let e=0;e<N.length;e+=1)C($[e]);C(g.$$.fragment,e),C(u.$$.fragment,e),F=!0}},o(e){$=$.filter(Boolean);for(let t=0;t<$.length;t+=1)P($[t]);P(g.$$.fragment,e),P(u.$$.fragment,e),F=!1},d(e){e&&r(t),j($,e),T(g),T(u),e&&r(v),e&&r(E),I=!1,z(D)}}}function Pt(e,t,n){mt.set("");const o=["\n# 3D for Projects\n\nExamples shows 3d view on web.\n\nThis materials help us to test and check some benchmarks on usage technics.  \nMost of materials are use **ThreeJS** and I will keep update this site.\n\nWe are thinking to add 3D objects and show all of them in here so you can download and use in your project as well. Check models section.\n\nYou can also add a material about any subject to show us your problem and solution, like auto generation text or new better models.\n\nFor any question you can ask me. [Eray Ates](https://discord.gg/mdcse7FQsm)\n\n---\n\nResources:\n- https://threejs-journey.xyz/\n- https://threejs.org/docs/\n- https://threejsfundamentals.org/\n- https://polygonrunway.com/\n- [PolyGonRunway Youtube](https://www.youtube.com/channel/UCGSJevmBuDyxjLLOBNaYMGA)\n\nAssets for Texture:\n- https://3dtextures.me/\n- https://texturehaven.com/\n","\n# Performance notes of threejs\n\n- `renderer.render(scene, camera)` should run on just changes needed not in every frame!\n- Use `renderer.setAnimationLoop` function to call function on each frame, better than `window.requestAnimationFrame`\n- For pivot changes do it in model program (blender) and if you want to change threejs objects use\n\n    ```js\n    // Set geometry and pivot points\n    const plane = new THREE.PlaneGeometry(1, 1);\n    plane.applyMatrix4(new THREE.Matrix4().makeTranslation(0.5, -0.5, 0));\n    ```\n\n- Don't use too much bone modifier. Limited max 4 vertex group per vertex.\n- Combine some parts for faster drawing.\n- Use dublicate linked objects.\n\n"],s=o.map((e=>{const t=(n=yt.makeHtml(e),(new DOMParser).parseFromString(n,"text/html").body);var n;return t.querySelectorAll("pre code").forEach((e=>{f.highlightElement(e)})),t.innerHTML}));let a=0;const i=()=>{a<o.length-1&&n(0,a++,a)},r=()=>{a>0&&n(0,a--,a)},l=e=>{switch(e.code){case"KeyA":case"ArrowLeft":r();break;case"KeyD":case"ArrowRight":i()}};return F((()=>{document.addEventListener("keyup",l)})),I((()=>{document.removeEventListener("keyup",l)})),[a,o,s,i,r]}class kt extends t{constructor(e){super(),n(this,e,Pt,Mt,o,{})}}function At(e){let t,n,o;return{c(){t=x("div"),n=b(),o=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0}),i(t).forEach(r),n=y(e),o=a(e,"CANVAS",{class:!0,tabindex:!0}),i(o).forEach(r),this.h()},h(){l(t,"class","debug"),l(o,"class","canvas"),l(o,"tabindex","0")},m(s,a){c(s,t,a),e[2](t),c(s,n,a),c(s,o,a),e[3](o)},p:g,i:g,o:g,d(s){s&&r(t),e[2](null),s&&r(n),s&&r(o),e[3](null)}}}function Bt(e,t,n){let o;$(e,vt,(e=>n(12,o=e))),mt.set("\n# Galaxy\n\nParticles with some math and random operations.  \nI copied this example from threejs journey course.\n\n");const s=new O;let a,i;const r={count:1e3,size:.02,radius:5,branches:3,spin:1,randomness:.2,randomnessPower:3,insideColor:"#ff6030",outsideColor:"#1b3984"};let l,d,c,h,g,p,f=null;const m=()=>{l&&(l.dispose(),d.dispose(),g.remove(c)),l=new U;const e=new Float32Array(3*r.count),t=new Float32Array(3*r.count);for(let n=0;n<r.count;n++){const o=3*n,s=Math.random()*r.radius,a=s*r.spin,i=n%r.branches/r.branches*Math.PI*2,l=Math.pow(Math.random(),r.randomnessPower)*(Math.random()<.5?1:-1)*r.randomness*s,d=Math.pow(Math.random(),r.randomnessPower)*(Math.random()<.5?1:-1)*r.randomness*s,c=Math.pow(Math.random(),r.randomnessPower)*(Math.random()<.5?1:-1)*r.randomness*s;e[o]=Math.cos(i+a)*s+l,e[o+1]=d,e[o+2]=Math.sin(i+a)*s+c;const h=new q(r.insideColor),g=new q(r.outsideColor),p=h.clone();p.lerp(g,s/r.radius),t[o]=p.r,t[o+1]=p.g,t[o+2]=p.b}l.setAttribute("position",new Z(e,3)),l.setAttribute("color",new Z(t,3)),d=new K({size:r.size,sizeAttenuation:!0,depthWrite:!1,blending:J,vertexColors:!0}),c=new Q(l,d),g.add(c)},u=new V({autoPlace:!1});u.add(r,"count").min(100).max(1e6).step(100).onFinishChange(m),u.add(r,"size").min(.001).max(.1).step(.001).onFinishChange(m),u.add(r,"radius").min(.01).max(20).step(.01).onFinishChange(m),u.add(r,"branches").min(2).max(20).step(1).onFinishChange(m),u.add(r,"spin").min(-5).max(5).step(.001).onFinishChange(m),u.add(r,"randomness").min(0).max(2).step(.001).onFinishChange(m),u.add(r,"randomnessPower").min(1).max(10).step(.001).onFinishChange(m),u.addColor(r,"insideColor").onFinishChange(m),u.addColor(r,"outsideColor").onFinishChange(m),u.close();const w=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),p.aspect=i.offsetWidth/i.offsetHeight,p.updateProjectionMatrix(),h.setSize(i.offsetWidth,i.offsetHeight),v())}));F((()=>{a.appendChild(s.dom),g=new Y,p=new W(75),u.domElement.style.float="right",a.appendChild(u.domElement),m(),h=new _({canvas:i}),p.position.z=3,g.add(p),h.setPixelRatio(Math.min(window.devicePixelRatio,2)),w.observe(i),f=new X(p,i),C()}));const v=()=>{s.begin(),h.render(g,p),f.update(),s.end()},C=()=>{v(),window.requestAnimationFrame(C)};return I((()=>{g.clear(),l.dispose(),d.dispose(),g.clear(),u.destroy(),h.dispose(),f.dispose(),h.forceContextLoss(),w.unobserve(i)})),[a,i,function(e){ee[e?"unshift":"push"]((()=>{a=e,n(0,a)}))},function(e){ee[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class Ht extends t{constructor(e){super(),n(this,e,Bt,At,o,{})}}function Rt(e){let t,n,o;return{c(){t=x("div"),n=b(),o=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0}),i(t).forEach(r),n=y(e),o=a(e,"CANVAS",{class:!0,tabindex:!0}),i(o).forEach(r),this.h()},h(){l(t,"class","debug"),l(o,"class","canvas"),l(o,"tabindex","0")},m(s,a){c(s,t,a),e[2](t),c(s,n,a),c(s,o,a),e[3](o)},p:g,i:g,o:g,d(s){s&&r(t),e[2](null),s&&r(n),s&&r(o),e[3](null)}}}function jt(e,t,n){let o,s,a;$(e,vt,(e=>n(10,o=e))),mt.set("\n# Jungle Basic\n\nThis example from https://threejs.org/examples/misc_controls_orbit.html\n\n");const i=new O;let r,l,d,c,h,g;F((()=>{s.appendChild(i.dom),p.observe(a),d=new Y,d.background=new q(13421772),d.fog=new te(13421772,.002),c=new _({antialias:!0,canvas:a}),c.setPixelRatio(Math.min(window.devicePixelRatio,2)),r=new W(60),r.position.set(400,200,0),l=new X(r,a),l.listenToKeyEvents(window),l.enableDamping=!0,l.dampingFactor=.05,l.screenSpacePanning=!1,l.minDistance=100,l.maxDistance=500,l.maxPolarAngle=Math.PI/2,h=new ne(0,10,30,4,1),g=new oe({color:16777215,flatShading:!0});for(let o=0;o<500;o++){const e=new se(h,g);e.position.x=1600*Math.random()-800,e.position.y=0,e.position.z=1600*Math.random()-800,e.updateMatrix(),e.matrixAutoUpdate=!1,d.add(e)}const e=new ae(16777215);e.position.set(1,1,1),d.add(e);const t=new ae(8840);t.position.set(-1,-1,-1),d.add(t);const n=new ie(2236962);d.add(n),m()}));const p=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),r.aspect=a.offsetWidth/a.offsetHeight,r.updateProjectionMatrix(),c.setSize(a.offsetWidth,a.offsetHeight),f())})),f=()=>{i.begin(),c.render(d,r),l.update(),i.end()},m=()=>{f(),window.requestAnimationFrame(m)};return I((()=>{d.clear(),h.dispose(),g.dispose(),c.dispose(),l.dispose(),c.forceContextLoss(),p.unobserve(a)})),[s,a,function(e){ee[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},function(e){ee[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class Tt extends t{constructor(e){super(),n(this,e,jt,Rt,o,{})}}function zt(e){let t,n,o;return{c(){t=x("div"),n=b(),o=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0}),i(t).forEach(r),n=y(e),o=a(e,"CANVAS",{class:!0,tabindex:!0}),i(o).forEach(r),this.h()},h(){l(t,"class","debug"),l(o,"class","canvas"),l(o,"tabindex","0")},m(s,a){c(s,t,a),e[2](t),c(s,n,a),c(s,o,a),e[3](o)},p:g,i:g,o:g,d(s){s&&r(t),e[2](null),s&&r(n),s&&r(o),e[3](null)}}}function Ft(e,t,n){let o,s,a;$(e,vt,(e=>n(10,o=e))),mt.set("\n# Box\n\n```js\ngeometry = new THREE.BoxGeometry(1, 1, 1);\nmaterial = new THREE.MeshBasicMaterial({ color: 0xff0000 });\nmesh = new THREE.Mesh(geometry, material);\n```\n\n");let i,r,l,d=null,c=null;const h=new Y,g=new W(75),p=new V({autoPlace:!1}),f=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),g.aspect=a.offsetWidth/a.offsetHeight,g.updateProjectionMatrix(),r.setSize(a.offsetWidth,a.offsetHeight),r.render(h,g))}));F((()=>{s.appendChild(p.domElement),r=new _({canvas:a}),d=new re(10,12,5),c=new le({color:16711680}),i=new se(d,c),h.add(i),g.position.z=15,r.setPixelRatio(Math.min(window.devicePixelRatio,2)),f.observe(a),l=new X(g,a),l.listenToKeyEvents(a),m()}));const m=()=>{r.render(h,g),window.requestAnimationFrame(m)};return I((()=>{h.clear(),d.dispose(),c.dispose(),p.destroy(),r.dispose(),l.dispose(),r.forceContextLoss(),f.unobserve(a)})),[s,a,function(e){ee[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},function(e){ee[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class It extends t{constructor(e){super(),n(this,e,Ft,zt,o,{})}}const Dt=(e,t,n)=>{let o=0,s=0,a=0,i=0;function r(t){t.preventDefault(),void 0===n?(s=o-t.clientY,o=t.clientY,i=a-t.clientX,a=t.clientX):n?(s=o-t.clientY,o=t.clientY):(i=a-t.clientX,a=t.clientX),void 0===n?(e.style.height=e.offsetHeight-s+"px",e.style.width=e.offsetWidth-i+"px"):n?e.style.height=e.offsetHeight-s+"px":e.style.width=e.offsetWidth-i+"px"}function l(){document.onmouseup=null,document.onmousemove=null}t.onmousedown=function(e){e.preventDefault(),void 0===n?(o=e.clientY,a=e.clientX):n?o=e.clientY:a=e.clientX;document.onmouseup=l,document.onmousemove=r}};function Nt(e){let t,n,o,s,d,g,p,f,m,u,w,v,E,S,L,M,k,j,z,F;return m=new bt({props:{className:"close-button",icon:"close"}}),{c(){t=x("div"),n=x("div"),o=x("div"),s=b(),d=x("div"),g=x("span"),p=b(),f=x("button"),A(m.$$.fragment),u=b(),w=x("span"),v=b(),E=x("span"),S=b(),L=x("span"),M=b(),k=x("div"),this.h()},l(e){t=a(e,"DIV",{class:!0});var l=i(t);n=a(l,"DIV",{class:!0});var c=i(n);o=a(c,"DIV",{class:!0}),i(o).forEach(r),s=y(c),d=a(c,"DIV",{class:!0});var h=i(d);g=a(h,"SPAN",{class:!0}),i(g).forEach(r),p=y(h),f=a(h,"BUTTON",{type:!0});var C=i(f);B(m.$$.fragment,C),C.forEach(r),h.forEach(r),u=y(c),w=a(c,"SPAN",{class:!0}),i(w).forEach(r),v=y(c),E=a(c,"SPAN",{class:!0}),i(E).forEach(r),S=y(c),L=a(c,"SPAN",{class:!0}),i(L).forEach(r),c.forEach(r),M=y(l),k=a(l,"DIV",{class:!0}),i(k).forEach(r),l.forEach(r),this.h()},h(){l(o,"class","top"),l(g,"class","triangle"),l(f,"type","button"),l(d,"class","title"),l(w,"class","line-base lined"),l(E,"class","line-base liney"),l(L,"class","line-base linex"),l(n,"class","frame"),l(k,"class","content"),l(t,"class","info"),de(t,"ndisplay",!e[6])},m(a,i){c(a,t,i),h(t,n),h(n,o),e[10](o),h(n,s),h(n,d),h(d,g),h(d,p),h(d,f),H(m,f,null),h(n,u),h(n,w),e[12](w),h(n,v),h(n,E),e[13](E),h(n,S),h(n,L),e[14](L),h(t,M),h(t,k),k.innerHTML=e[5],e[15](t),j=!0,z||(F=R(f,"click",ce(e[11])),z=!0)},p(e,[n]){(!j||32&n)&&(k.innerHTML=e[5]),64&n&&de(t,"ndisplay",!e[6])},i(e){j||(C(m.$$.fragment,e),j=!0)},o(e){P(m.$$.fragment,e),j=!1},d(n){n&&r(t),e[10](null),T(m),e[12](null),e[13](null),e[14](null),e[15](null),z=!1,F()}}}function $t(e,t,n){let o,s,a;$(e,mt,(e=>n(8,o=e))),$(e,wt,(e=>n(9,s=e))),$(e,ut,(e=>n(6,a=e)));let i,r,l,d,c,h,g=!1;he((()=>{g&&r.querySelectorAll("pre code").forEach((e=>{f.highlightElement(e)}))})),F((()=>{((e,t,n)=>{let o=0,s=0,a=0,i=0,r=0,l=0;function d(t){t.preventDefault(),o=a-t.clientX,s=i-t.clientY,a=t.clientX,i=t.clientY;const n=e.offsetTop-s,d=e.offsetLeft-o;e.style.top=(n>2?Math.ceil(e.offsetHeight)+n<l?n:l-Math.floor(e.offsetHeight):2)+"px",e.style.left=(d>2?Math.ceil(e.offsetWidth)+d<r?d:r-Math.floor(e.offsetWidth):2)+"px"}function c(){document.onmouseup=null,document.onmousemove=null}t.onmousedown=function(e){e.preventDefault(),a=e.clientX,i=e.clientY,l=Math.floor(n.offsetHeight)-2,r=Math.floor(n.offsetWidth)-2,document.onmouseup=c,document.onmousemove=d}})(r,i,document.getElementsByClassName("main")[0]),Dt(r,l,!1),Dt(r,d,!0),Dt(r,c,void 0),n(7,g=!0)}));return e.$$.update=()=>{256&e.$$.dirty&&n(5,h=yt.makeHtml(o)),640&e.$$.dirty&&g&&null!=s&&(n(1,r.style.top=null,r),n(1,r.style.left=null,r),n(1,r.style.height=null,r),n(1,r.style.width=null,r))},[i,r,l,d,c,h,a,g,o,s,function(e){ee[e?"unshift":"push"]((()=>{i=e,n(0,i)}))},()=>ut.set(!1),function(e){ee[e?"unshift":"push"]((()=>{l=e,n(2,l)}))},function(e){ee[e?"unshift":"push"]((()=>{d=e,n(3,d)}))},function(e){ee[e?"unshift":"push"]((()=>{c=e,n(4,c)}))},function(e){ee[e?"unshift":"push"]((()=>{r=e,n(1,r),n(7,g),n(9,s)}))}]}class Ot extends t{constructor(e){super(),n(this,e,$t,Nt,o,{})}}function Vt(e){let t,n,o;return{c(){t=x("div"),n=b(),o=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0}),i(t).forEach(r),n=y(e),o=a(e,"CANVAS",{class:!0,tabindex:!0}),i(o).forEach(r),this.h()},h(){l(t,"class","debug"),l(o,"class","canvas"),l(o,"tabindex","0")},m(s,a){c(s,t,a),e[2](t),c(s,n,a),c(s,o,a),e[3](o)},p:g,i:g,o:g,d(s){s&&r(t),e[2](null),s&&r(n),s&&r(o),e[3](null)}}}function Gt(e,t,n){let o,s,a;$(e,vt,(e=>n(10,o=e))),mt.set('\n# Material\n\nhttps://github.com/nidorx/matcaps  \nhttps://observablehq.com/@makio135/matcaps?ui=classic\n\n```js\n// Textures\nconst textureLoader = new THREE.TextureLoader();\n\nconst materialMetalic = textureLoader.load("assets/materials/matcaps/3E3E3E_AEAEAE_848484_777777-64px.png");\n\n// Geomerty\ngeometry = new THREE.BoxGeometry(1, 1, 1);\nmaterial = new THREE.MeshMatcapMaterial({ matcap: materialMetalic });\nmesh = new THREE.Mesh(geometry, material);\nscene.add(mesh);\n\n// ClearColor\nrenderer.setClearColor("#ccc", 1);\n\n```\n\n');let i,r,l,d=null,c=null;const h=new V({autoPlace:!1}),g=new Y,p=new W(75);p.position.z=3,g.add(p);const f=(new ge).load("assets/materials/matcaps/3E3E3E_AEAEAE_848484_777777-64px.png");d=new re(1,1,1),c=new pe({matcap:f}),i=new se(d,c),g.add(i);const m=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),p.aspect=a.offsetWidth/a.offsetHeight,p.updateProjectionMatrix(),r.setSize(a.offsetWidth,a.offsetHeight),r.render(g,p))})),u=()=>{r.render(g,p),window.requestAnimationFrame(u)};return F((()=>{s.appendChild(h.domElement),l=new X(p,a),r=new _({canvas:a}),r.setPixelRatio(Math.min(window.devicePixelRatio,2)),r.setClearColor("#ccc",1),m.observe(a),u()})),I((()=>{g.clear(),d.dispose(),c.dispose(),h.destroy(),r.dispose(),l.dispose(),r.forceContextLoss(),m.unobserve(a)})),[s,a,function(e){ee[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},function(e){ee[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class Yt extends t{constructor(e){super(),n(this,e,Gt,Vt,o,{})}}function Wt(e){let t,n,o;return{c(){t=x("div"),n=b(),o=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0}),i(t).forEach(r),n=y(e),o=a(e,"CANVAS",{class:!0,tabindex:!0}),i(o).forEach(r),this.h()},h(){l(t,"class","debug"),l(o,"class","canvas"),l(o,"tabindex","0")},m(s,a){c(s,t,a),e[2](t),c(s,n,a),c(s,o,a),e[3](o)},p:g,i:g,o:g,d(s){s&&r(t),e[2](null),s&&r(n),s&&r(o),e[3](null)}}}function _t(e,t,n){let o,s,a,i;$(e,vt,(e=>n(10,o=e))),mt.set("\n# Box with Parameters\n\n```js\ngeometry = new THREE.BufferGeometry();\nmaterials[0] = new THREE.LineBasicMaterial( { color: 0xffffff, transparent: true, opacity: 0.5 } );\nmaterials[1] = new THREE.MeshBasicMaterial({ color: parameters.color });\n\ngroup = new THREE.Group();\ngroup.add( new THREE.LineSegments( geometry, materials[0] ) );\ngroup.add( new THREE.Mesh( geometry, materials[1] ) );\n\ngenerateBox();\n\nscene.add(group);\n```\n\nAnd `generateBox` function\n\n```js\nconst generateBox = () => {\n  group.children.forEach((child: any) => child.geometry.dispose());\n\n  geometry = new THREE.BoxGeometry(\n      parameters.width,\n      parameters.height,\n      parameters.depth,\n      parameters.widthSegments,\n      parameters.heightSegments,\n      parameters.depthSegments);\n\n  (group.children[0] as THREE.LineSegments).geometry = new THREE.WireframeGeometry( geometry );\n  (group.children[1] as THREE.Mesh).geometry = geometry;\n};\n```\n");const r=[];let l,d,c;const h=new Y,g=new W(75),p=new V({autoPlace:!1}),f={color:16711680,wireColor:16777215,width:1,height:1,depth:1,widthSegments:1,heightSegments:1,depthSegments:1},m=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),g.aspect=a.offsetWidth/a.offsetHeight,g.updateProjectionMatrix(),d.setSize(a.offsetWidth,a.offsetHeight),d.render(h,g))})),u=()=>{l.children.forEach((e=>e.geometry.dispose())),i=new re(f.width,f.height,f.depth,f.widthSegments,f.heightSegments,f.depthSegments),l.children[0].geometry=new ve(i),l.children[1].geometry=i};return F((()=>{s.appendChild(p.domElement),d=new _({canvas:a}),i=new U,r[0]=new fe({color:16777215,transparent:!0,opacity:.5}),r[1]=new le({color:f.color}),l=new me,l.add(new ue(i,r[0])),l.add(new se(i,r[1])),u(),h.add(l),g.position.z=3,h.add(g),d.setPixelRatio(Math.min(window.devicePixelRatio,2)),m.observe(a),c=new X(g,a);const e=new we(1);h.add(e),p.add(r[1],"wireframe"),p.add(f,"height").min(1).max(5).step(.01).onChange(u),p.add(f,"width").min(1).max(5).step(.01).onChange(u),p.add(f,"depth").min(1).max(5).step(.01).onChange(u),p.add(f,"widthSegments").min(1).max(5).step(1).onChange(u),p.add(f,"heightSegments").min(1).max(5).step(1).onChange(u),p.add(f,"depthSegments").min(1).max(5).step(1).onChange(u);const t=p.addFolder("positions");t.add(l.position,"y").min(-3).max(3).step(.01),t.add(l.position,"x").min(-3).max(3).step(.01),p.addColor(f,"color").onChange((()=>{r[1].color.set(f.color)})),p.addColor(f,"wireColor").onChange((()=>{r[0].color.set(f.wireColor)}));const n=()=>{d.render(h,g),window.requestAnimationFrame(n)};n()})),I((()=>{h.clear(),i.dispose(),r.forEach((e=>e.dispose())),p.destroy(),l.clear(),d.dispose(),c.dispose(),d.forceContextLoss(),m.unobserve(a)})),[s,a,function(e){ee[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},function(e){ee[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class Xt extends t{constructor(e){super(),n(this,e,_t,Wt,o,{})}}function Ut(e){let t,n,o;return{c(){t=x("div"),n=b(),o=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0}),i(t).forEach(r),n=y(e),o=a(e,"CANVAS",{class:!0,tabindex:!0}),i(o).forEach(r),this.h()},h(){l(t,"class","debug"),l(o,"class","canvas"),l(o,"tabindex","0")},m(s,a){c(s,t,a),e[2](t),c(s,n,a),c(s,o,a),e[3](o)},p:g,i:g,o:g,d(s){s&&r(t),e[2](null),s&&r(n),s&&r(o),e[3](null)}}}function qt(e,t,n){let o;$(e,vt,(e=>n(10,o=e))),mt.set('\n# Box Material\n\n```js\n// Materials and Textures\nconst textureLoader = new THREE.TextureLoader();\nconst materialWhite = textureLoader.load("assets/materials/matcaps/635D52_A9BCC0_B1AEA0_819598-64px.png");\n\nmaterials["line"] = new THREE.LineBasicMaterial({ color: parameters.wireColor, transparent: true, opacity: 0.5 });\nmaterials["mesh"] = new THREE.MeshMatcapMaterial({ color: parameters.color, matcap: materialWhite });\n\n// Geometry\ngeometry = new THREE.BufferGeometry();\n\ngroup = new THREE.Group();\ngroup.add( new THREE.LineSegments( geometry, materials[0] ) );\ngroup.add( new THREE.Mesh( geometry, materials[1] ) );\n\ngenerateBox();\n\nscene.add(group);\n```\n\nAnd `generateBox` function\n\n```js\nconst generateBox = () => {\n  group.children.forEach((child: any) => child.geometry.dispose());\n\n  geometry = new THREE.BoxGeometry(\n      parameters.width,\n      parameters.height,\n      parameters.depth,\n      parameters.widthSegments,\n      parameters.heightSegments,\n      parameters.depthSegments);\n\n  (group.children[0] as THREE.LineSegments).geometry = new THREE.WireframeGeometry( geometry );\n  (group.children[1] as THREE.Mesh).geometry = geometry;\n};\n```\n');const s={color:16777215,wireColor:16777215,clearColor:16777215,width:1,height:1,depth:1,widthSegments:1,heightSegments:1,depthSegments:1};let a,i,r;const l={};let d,c,h;const g=(new ge).load("assets/materials/matcaps/635D52_A9BCC0_B1AEA0_819598-64px.png");l.line=new fe({color:s.wireColor,transparent:!0,opacity:.5}),l.mesh=new pe({color:s.color,matcap:g});const p=new Y,f=new W(75);f.position.z=3,p.add(f);const m=new we(1);p.add(m);const u=()=>{d.children.forEach((e=>e.geometry.dispose())),r=new re(s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments),d.children[0].geometry=new ve(r),d.children[1].geometry=r};r=new U,d=new me,d.add(new ue(r,l.line)),d.add(new se(r,l.mesh)),u(),p.add(d);const w=new V({autoPlace:!1}),v=w.addFolder("dimensions");v.add(s,"height").min(1).max(5).step(.01).onChange(u),v.add(s,"width").min(1).max(5).step(.01).onChange(u),v.add(s,"depth").min(1).max(5).step(.01).onChange(u),v.add(s,"widthSegments").min(1).max(5).step(1).onChange(u),v.add(s,"heightSegments").min(1).max(5).step(1).onChange(u),v.add(s,"depthSegments").min(1).max(5).step(1).onChange(u);const C=w.addFolder("positions");C.add(d.position,"y").min(-3).max(3).step(.01),C.add(d.position,"x").min(-3).max(3).step(.01),C.add(d.position,"z").min(-3).max(3).step(.01),w.addColor(s,"color").onChange((e=>{l.mesh.color.set(e)})),w.addColor(s,"wireColor").onChange((e=>{l.line.color.set(e)})),w.addColor(s,"clearColor").onChange((e=>{c.setClearColor(e)}));const x=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),f.aspect=i.offsetWidth/i.offsetHeight,f.updateProjectionMatrix(),c.setSize(i.offsetWidth,i.offsetHeight),c.render(p,f))}));return F((()=>{a.appendChild(w.domElement),c=new _({canvas:i}),c.setPixelRatio(Math.min(window.devicePixelRatio,2)),c.setClearColor(s.clearColor),x.observe(i),h=new X(f,i);const e=()=>{c.render(p,f),window.requestAnimationFrame(e)};e()})),I((()=>{p.clear(),r.dispose(),Object.values(l).forEach((e=>e.dispose())),w.destroy(),d.clear(),c.dispose(),h.dispose(),c.forceContextLoss(),x.unobserve(i)})),[a,i,function(e){ee[e?"unshift":"push"]((()=>{a=e,n(0,a)}))},function(e){ee[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class Zt extends t{constructor(e){super(),n(this,e,qt,Ut,o,{})}}function Kt(e){let t,n,o;return{c(){t=x("div"),n=b(),o=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0}),i(t).forEach(r),n=y(e),o=a(e,"CANVAS",{class:!0,tabindex:!0}),i(o).forEach(r),this.h()},h(){l(t,"class","debug"),l(o,"class","canvas"),l(o,"tabindex","0")},m(s,a){c(s,t,a),e[2](t),c(s,n,a),c(s,o,a),e[3](o)},p:g,i:g,o:g,d(s){s&&r(t),e[2](null),s&&r(n),s&&r(o),e[3](null)}}}function Jt(e,t,n){let o,s,a,i;$(e,vt,(e=>n(13,o=e))),mt.set('\n# Box with Environment\n\nAdd SKY with sky object of threejs\n\n```js\n// SKY\nconst sky = new Sky();\nsky.scale.setScalar( 450000 );\nscene.add( sky );\n\nconst uniforms = sky.material.uniforms;\nuniforms["turbidity"].value = parameters.effectController.turbidity;\nuniforms["rayleigh"].value = parameters.effectController.rayleigh;\nuniforms["mieCoefficient"].value = parameters.effectController.mieCoefficient;\nuniforms["mieDirectionalG"].value = parameters.effectController.mieDirectionalG;\n\nconst sun = new THREE.Vector3();\nconst sunChangePos = () => {\n  const phi = THREE.MathUtils.degToRad( 90 - parameters.effectController.elevation );\n  const theta = THREE.MathUtils.degToRad( parameters.effectController.azimuth );\n\n  sun.setFromSphericalCoords( 1, phi, theta );\n  uniforms["sunPosition"].value.copy( sun );\n};\nsunChangePos();\n```\n\nAdd Ground just basic plane\n\n```js\n// GROUND\nconst groundGeo = new THREE.PlaneGeometry( 10000, 10000 );\nconst groundMat = new THREE.MeshBasicMaterial( { color: 0xffffff } );\ngroundMat.color.setHSL( 0.095, 1, 0.75 );\n\nconst ground = new THREE.Mesh( groundGeo, groundMat );\nground.position.y = 0;\nground.rotation.x = - Math.PI / 2;\nscene.add( ground );\n```\n');const r={};let l,d,c;const h={color:16777215,background:16777215,width:1,height:1,depth:1,widthSegments:1,heightSegments:1,depthSegments:1,effectController:{turbidity:10,rayleigh:3,mieCoefficient:.005,mieDirectionalG:.7,elevation:2,azimuth:180,exposure:.5}},g=(new ge).load("assets/materials/matcaps/635D52_A9BCC0_B1AEA0_819598-64px.png");r.mesh=new pe({color:h.color,matcap:g});const p=new Y;p.background=(new q).setHSL(.6,0,1);const f=new Ce;f.scale.setScalar(45e4),p.add(f);const m=f.material.uniforms;m.turbidity.value=h.effectController.turbidity,m.rayleigh.value=h.effectController.rayleigh,m.mieCoefficient.value=h.effectController.mieCoefficient,m.mieDirectionalG.value=h.effectController.mieDirectionalG;const u=new Se,w=()=>{const e=Ee.degToRad(90-h.effectController.elevation),t=Ee.degToRad(h.effectController.azimuth);u.setFromSphericalCoords(1,e,t),m.sunPosition.value.copy(u)};w();const v=new W(75);v.position.z=3,v.position.y=1,v.position.x=1,p.add(v);const C=new we(1);p.add(C);const x=new xe(1e4,1e4),b=new le({color:16777215});b.color.setHSL(.095,1,.75);const y=new se(x,b);y.position.y=0,y.rotation.x=-Math.PI/2,p.add(y);const E=()=>{l.children.forEach((e=>e.geometry.dispose())),i=new re(h.width,h.height,h.depth,h.widthSegments,h.heightSegments,h.depthSegments),l.children[0].geometry=i,l.position.y=h.height/2};i=new U,l=new me,l.add(new se(i,r.mesh)),E(),p.add(l);const S=new V({autoPlace:!1});S.add(C,"visible").name("axes helper visible"),S.addColor(h,"color").onChange((()=>{r.mesh.color.set(h.color)})),S.addColor(h,"background").onChange((()=>{p.background=new q(h.background)}));const L=S.addFolder("dimensions");L.add(h,"height").min(1).max(5).step(.01).onChange(E),L.add(h,"width").min(1).max(5).step(.01).onChange(E),L.add(h,"depth").min(1).max(5).step(.01).onChange(E),L.add(h,"widthSegments").min(1).max(5).step(1).onChange(E),L.add(h,"heightSegments").min(1).max(5).step(1).onChange(E),L.add(h,"depthSegments").min(1).max(5).step(1).onChange(E);const M=S.addFolder("positions");M.add(l.position,"y").min(-3).max(3).step(.01),M.add(l.position,"x").min(-3).max(3).step(.01),M.add(l.position,"z").min(-3).max(3).step(.01);const P=S.addFolder("sky");P.add(h.effectController,"turbidity",0,20,.1).onChange((e=>m.turbidity.value=e)),P.add(h.effectController,"rayleigh",0,4,.001).onChange((e=>m.rayleigh.value=e)),P.add(h.effectController,"mieCoefficient",0,.1,.001).onChange((e=>m.mieCoefficient.value=e)),P.add(h.effectController,"mieDirectionalG",0,1,.001).onChange((e=>m.mieDirectionalG.value=e)),P.add(h.effectController,"elevation",0,90,.1).onChange(w),P.add(h.effectController,"azimuth",-180,180,.1).onChange(w),P.add(h.effectController,"exposure",0,1,1e-4).onChange((e=>d.toneMappingExposure=e));const k=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),v.aspect=a.offsetWidth/a.offsetHeight,v.updateProjectionMatrix(),d.setSize(a.offsetWidth,a.offsetHeight),d.render(p,v))}));return F((()=>{s.appendChild(S.domElement),d=new _({canvas:a}),d.setPixelRatio(Math.min(window.devicePixelRatio,2)),d.outputEncoding=be,d.toneMapping=ye,d.toneMappingExposure=h.effectController.exposure,k.observe(a),c=new X(v,a);const e=()=>{d.render(p,v),window.requestAnimationFrame(e)};e()})),I((()=>{p.clear(),i.dispose(),Object.values(r).forEach((e=>e.dispose())),S.destroy(),l.clear(),d.dispose(),c.dispose(),d.forceContextLoss(),k.unobserve(a)})),[s,a,function(e){ee[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},function(e){ee[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class Qt extends t{constructor(e){super(),n(this,e,Jt,Kt,o,{})}}function en(e){let t,n,o;return{c(){t=x("div"),n=b(),o=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0}),i(t).forEach(r),n=y(e),o=a(e,"CANVAS",{class:!0,tabindex:!0}),i(o).forEach(r),this.h()},h(){l(t,"class","debug"),l(o,"class","canvas"),l(o,"tabindex","0")},m(s,a){c(s,t,a),e[2](t),c(s,n,a),c(s,o,a),e[3](o)},p:g,i:g,o:g,d(s){s&&r(t),e[2](null),s&&r(n),s&&r(o),e[3](null)}}}function tn(e,t,n){let o,s,a,i;$(e,vt,(e=>n(15,o=e))),mt.set('\n# Box with Shadows\n\nLights\n```js\nconst hemiLight = new THREE.HemisphereLight( parameters.lights.hemisphereLightColor, parameters.lights.hemisphereGroundColor, parameters.lights.hemisphereIntensity );\nhemiLight.position.set( 0, 20, 0 );\nscene.add( hemiLight );\n\nconst hemiLightHelper = new THREE.HemisphereLightHelper( hemiLight, 10 );\nscene.add( hemiLightHelper );\n\n//\n\nconst dirLight = new THREE.DirectionalLight( parameters.lights.dirLightColor, parameters.lights.dirLightIntensity );\ndirLight.position.set( - 1, 1.75, 1 );\ndirLight.position.multiplyScalar( 20 );\nscene.add( dirLight );\n\ndirLight.castShadow = true;\n\ndirLight.shadow.mapSize.width = 256;\ndirLight.shadow.mapSize.height = 256;\n\nconst dirLightHelper = new THREE.DirectionalLightHelper( dirLight, 10 );\nscene.add( dirLightHelper );\n```\n\nChange box material to effect from lights\n```js\nmaterials["mesh"] = new THREE.MeshStandardMaterial({ color: parameters.color, metalness: 0.9, roughness: 0.2 });\n```\n\nEnable castShadow in box mesh\n```js\n(group.children[0] as THREE.Mesh).castShadow = true;\n```\n\nEnable receiveShadow in ground plane\n```js\nground.receiveShadow = true;\n```\n\nEnable shadow in renderer\n```js\nrenderer.shadowMap.enabled = true;\n```\n\nFog to scene\n\n```js\nscene.fog = new THREE.Fog( parameters.fog.fogColor, parameters.fog.near, parameters.fog.far );\n```\n');const r={};let l,d,c;const h={color:16777215,background:16777215,width:1,height:1,depth:1,widthSegments:1,heightSegments:1,depthSegments:1,effectController:{turbidity:10,rayleigh:3,mieCoefficient:.005,mieDirectionalG:.7,elevation:2,azimuth:180,exposure:.5},lights:{hemisphereLightOn:!0,hemisphereLightColor:16777215,hemisphereGroundColor:16777215,hemisphereIntensity:1,dirLightOn:!0,dirLightColor:16777215,dirLightIntensity:6},fog:{fogColor:14474460,near:1,far:100}};r.mesh=new Le({color:h.color,metalness:.9,roughness:.2});const g=new Y;g.background=(new q).setHSL(.6,0,1),g.fog=new Me(h.fog.fogColor,h.fog.near,h.fog.far);const p=new Ce;p.scale.setScalar(45e4),g.add(p);const f=p.material.uniforms;f.turbidity.value=h.effectController.turbidity,f.rayleigh.value=h.effectController.rayleigh,f.mieCoefficient.value=h.effectController.mieCoefficient,f.mieDirectionalG.value=h.effectController.mieDirectionalG;const m=new Se,u=()=>{const e=Ee.degToRad(90-h.effectController.elevation),t=Ee.degToRad(h.effectController.azimuth);m.setFromSphericalCoords(1,e,t),f.sunPosition.value.copy(m)};u();const w=new Pe(h.lights.hemisphereLightColor,h.lights.hemisphereGroundColor,h.lights.hemisphereIntensity);w.position.set(0,20,0),g.add(w);const v=new ke(w,10);g.add(v);const C=new ae(h.lights.dirLightColor,h.lights.dirLightIntensity);C.position.set(-1,1.75,1),C.position.multiplyScalar(20),g.add(C),C.castShadow=!0,C.shadow.mapSize.width=1024,C.shadow.mapSize.height=1024;const x=new Ae(C,1);g.add(x);const b=new W(75);b.position.z=3,b.position.y=1,b.position.x=1,g.add(b);const y=new we(1);g.add(y);const E=new xe(1e4,1e4),S=new Be({color:16777215});S.color.setHSL(.095,1,.75);const L=new se(E,S);L.position.y=0,L.rotation.x=-Math.PI/2,L.receiveShadow=!0,g.add(L);const M=()=>{l.children.forEach((e=>e.geometry.dispose())),i=new re(h.width,h.height,h.depth,h.widthSegments,h.heightSegments,h.depthSegments),l.children[0].geometry=i,l.position.y=h.height/2};i=new U,l=new me,l.add(new se(i,r.mesh)),l.children[0].castShadow=!0,M(),g.add(l);const P=new V({autoPlace:!1});P.add(y,"visible").name("axes helper visible"),P.addColor(h,"color").onChange((()=>{r.mesh.color.set(h.color)})),P.addColor(h,"background").onChange((()=>{g.background=new q(h.background)}));const k=P.addFolder("dimensions");k.add(h,"height").min(1).max(5).step(.01).onChange(M),k.add(h,"width").min(1).max(5).step(.01).onChange(M),k.add(h,"depth").min(1).max(5).step(.01).onChange(M),k.add(h,"widthSegments").min(1).max(5).step(1).onChange(M),k.add(h,"heightSegments").min(1).max(5).step(1).onChange(M),k.add(h,"depthSegments").min(1).max(5).step(1).onChange(M);const A=P.addFolder("positions");A.add(l.position,"y").min(-3).max(3).step(.01),A.add(l.position,"x").min(-3).max(3).step(.01),A.add(l.position,"z").min(-3).max(3).step(.01);const B=P.addFolder("sky");B.add(h.effectController,"turbidity",0,20,.1).onChange((e=>f.turbidity.value=e)),B.add(h.effectController,"rayleigh",0,4,.001).onChange((e=>f.rayleigh.value=e)),B.add(h.effectController,"mieCoefficient",0,.1,.001).onChange((e=>f.mieCoefficient.value=e)),B.add(h.effectController,"mieDirectionalG",0,1,.001).onChange((e=>f.mieDirectionalG.value=e)),B.add(h.effectController,"elevation",0,90,.1).onChange(u),B.add(h.effectController,"azimuth",-180,180,.1).onChange(u),B.add(h.effectController,"exposure",0,1,1e-4).onChange((e=>d.toneMappingExposure=e));const H=P.addFolder("lights");H.add(h.lights,"dirLightOn").onChange((e=>C.visible=e)),H.addColor(h.lights,"dirLightColor").onChange((e=>C.color.set(e))),H.add(h.lights,"dirLightIntensity",0,20,.01).onChange((e=>C.intensity=e)),H.add(h.lights,"hemisphereLightOn").onChange((e=>w.visible=e)),H.add(h.lights,"hemisphereIntensity",0,20,.01).onChange((e=>w.intensity=e)),H.addColor(h.lights,"hemisphereLightColor").onChange((e=>w.color.set(e))),H.addColor(h.lights,"hemisphereGroundColor").onChange((e=>w.groundColor.set(e)));const R=P.addFolder("fog");R.addColor(h.fog,"fogColor").onChange((()=>g.fog=new Me(h.fog.fogColor,h.fog.near,h.fog.far))),R.add(h.fog,"far",0,500,1).onChange((()=>g.fog=new Me(h.fog.fogColor,h.fog.near,h.fog.far))),R.add(h.fog,"near",0,500,1).onChange((()=>g.fog=new Me(h.fog.fogColor,h.fog.near,h.fog.far)));const j=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),b.aspect=a.offsetWidth/a.offsetHeight,b.updateProjectionMatrix(),d.setSize(a.offsetWidth,a.offsetHeight),d.render(g,b))}));return F((()=>{s.appendChild(P.domElement),d=new _({canvas:a}),d.setPixelRatio(Math.min(window.devicePixelRatio,2)),d.shadowMap.enabled=!0,d.outputEncoding=be,d.toneMapping=ye,d.toneMappingExposure=h.effectController.exposure,j.observe(a),c=new X(b,a);const e=()=>{d.render(g,b),window.requestAnimationFrame(e)};e()})),I((()=>{g.clear(),i.dispose(),Object.values(r).forEach((e=>e.dispose())),P.destroy(),l.clear(),d.dispose(),c.dispose(),d.forceContextLoss(),j.unobserve(a)})),[s,a,function(e){ee[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},function(e){ee[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class nn extends t{constructor(e){super(),n(this,e,tn,en,o,{},[-1,-1])}}function on(e){let t,n,o;return{c(){t=x("div"),n=b(),o=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0}),i(t).forEach(r),n=y(e),o=a(e,"CANVAS",{class:!0,tabindex:!0}),i(o).forEach(r),this.h()},h(){l(t,"class","debug"),l(o,"class","canvas"),l(o,"tabindex","0")},m(s,a){c(s,t,a),e[2](t),c(s,n,a),c(s,o,a),e[3](o)},p:g,i:g,o:g,d(s){s&&r(t),e[2](null),s&&r(n),s&&r(o),e[3](null)}}}function sn(e,t,n){let o,s,a,i;$(e,vt,(e=>n(17,o=e))),mt.set('\n# Text on the box\n\nOrder of materials is +x, -x, +y, -y, +z, -z\n\n```js\n// CANVAS material\nconst ctx2 = document.createElement("canvas").getContext("2d");\nctx2.canvas.width = 512;\nctx2.canvas.height = 512;\n\nctx2.fillStyle = "#5555ff";\nctx2.fillRect(0, 0, ctx2.canvas.width, ctx2.canvas.height);\n\nctx2.fillStyle = "#000"; // This determines the text colour, it can take a hex value or rgba value (e.g. rgba(255,0,0,0.5))\nctx2.textAlign = "center"; // This determines the alignment of text, e.g. left, center, right\nctx2.textBaseline = "middle"; // This determines the baseline of the text, e.g. top, middle, bottom\nctx2.font = "48px monospace";\nctx2.fillText("AXY00001", ctx2.canvas.width/2, ctx2.canvas.height/2);\n\nconst texture2 = new THREE.CanvasTexture(ctx2.canvas);\n\nconst ctxMaterialOther = new THREE.MeshStandardMaterial({\n  color: "#5555ff",\n});\n\nconst ctxMaterialCanvas2 = new THREE.MeshStandardMaterial({\n  map: texture2,\n});\n\nmaterials["mesh"] = [\n  ctxMaterialOther,\n  ctxMaterialOther,\n  ctxMaterialCanvas,\n  ctxMaterialOther,\n  ctxMaterialCanvas2,\n  ctxMaterialOther,\n];\n```\n');const r={};let l,d,c;const h={color:16777215,background:16777215,width:1,height:1,depth:1,widthSegments:1,heightSegments:1,depthSegments:1,effectController:{turbidity:10,rayleigh:3,mieCoefficient:.005,mieDirectionalG:.7,elevation:2,azimuth:180,exposure:.5},lights:{hemisphereLightOn:!0,hemisphereLightColor:16777215,hemisphereGroundColor:16777215,hemisphereIntensity:1,dirLightOn:!0,dirLightColor:16777215,dirLightIntensity:6},fog:{fogColor:14474460,near:1,far:100}},g=document.createElement("canvas").getContext("2d");g.canvas.width=512,g.canvas.height=512,g.fillStyle="#5555ff",g.fillRect(0,0,g.canvas.width,g.canvas.height),g.fillStyle="#000",g.textAlign="left",g.textBaseline="bottom",g.font="48px monospace",g.fillText("Top Secret!",0,48);const p=new He(g.canvas),f=document.createElement("canvas").getContext("2d");f.canvas.width=512,f.canvas.height=512,f.fillStyle="#5555ff",f.fillRect(0,0,f.canvas.width,f.canvas.height),f.fillStyle="#000",f.textAlign="center",f.textBaseline="middle",f.font="48px monospace",f.fillText("AXY00001",f.canvas.width/2,f.canvas.height/2);const m=new He(f.canvas),u=new Le({color:"#5555ff"}),w=new Le({map:p,side:Re}),v=new Le({map:m});r.mesh=[u,u,w,u,v,u];const C=new Y;C.background=new q(13421772),C.fog=new te(13421772,.002);const x=new Pe(h.lights.hemisphereLightColor,h.lights.hemisphereGroundColor,h.lights.hemisphereIntensity);x.position.set(0,20,0),C.add(x);const b=new ke(x,10);C.add(b);const y=new ae(h.lights.dirLightColor,h.lights.dirLightIntensity);y.position.set(-1,1.75,1),y.position.multiplyScalar(20),C.add(y),y.castShadow=!0,y.shadow.mapSize.width=256,y.shadow.mapSize.height=256;const E=new Ae(y,10);C.add(E);const S=new W(75);S.position.z=1,S.position.y=1,S.position.x=1,C.add(S);const L=new we(1);L.visible=!1,C.add(L);const M=new xe(1e4,1e4),P=new Be({color:16777215});P.color.setHSL(.095,1,.75);const k=new se(M,P);k.position.y=0,k.rotation.x=-Math.PI/2,k.receiveShadow=!0,C.add(k);const A=()=>{l.children.forEach((e=>e.geometry.dispose())),i=new re(h.width,h.height,h.depth,h.widthSegments,h.heightSegments,h.depthSegments),l.children[0].geometry=i,l.position.y=h.height/2};i=new U,l=new me,l.add(new se(i,r.mesh)),l.children[0].castShadow=!0,A(),C.add(l);const B=new V({autoPlace:!1});B.add(L,"visible").name("axes helper visible"),B.addColor(h,"color").onChange((()=>{r.mesh.color.set(h.color)})),B.addColor(h,"background").onChange((()=>{C.background=new q(h.background)}));const H=B.addFolder("dimensions");H.add(h,"height").min(1).max(5).step(.01).onChange(A),H.add(h,"width").min(1).max(5).step(.01).onChange(A),H.add(h,"depth").min(1).max(5).step(.01).onChange(A),H.add(h,"widthSegments").min(1).max(5).step(1).onChange(A),H.add(h,"heightSegments").min(1).max(5).step(1).onChange(A),H.add(h,"depthSegments").min(1).max(5).step(1).onChange(A);const R=B.addFolder("positions");R.add(l.position,"y").min(-3).max(3).step(.01),R.add(l.position,"x").min(-3).max(3).step(.01),R.add(l.position,"z").min(-3).max(3).step(.01);B.addFolder("render").add(h.effectController,"exposure",0,1,1e-4).onChange((e=>d.toneMappingExposure=e));const j=B.addFolder("lights");j.add(h.lights,"dirLightOn").onChange((e=>y.visible=e)),j.addColor(h.lights,"dirLightColor").onChange((e=>y.color.set(e))),j.add(h.lights,"dirLightIntensity",0,20,.01).onChange((e=>y.intensity=e)),j.add(h.lights,"hemisphereLightOn").onChange((e=>x.visible=e)),j.add(h.lights,"hemisphereIntensity",0,20,.01).onChange((e=>x.intensity=e)),j.addColor(h.lights,"hemisphereLightColor").onChange((e=>x.color.set(e))),j.addColor(h.lights,"hemisphereGroundColor").onChange((e=>x.groundColor.set(e)));const T=B.addFolder("fog");T.addColor(h.fog,"fogColor").onChange((()=>C.fog=new Me(h.fog.fogColor,h.fog.near,h.fog.far))),T.add(h.fog,"far",0,500,1).onChange((()=>C.fog=new Me(h.fog.fogColor,h.fog.near,h.fog.far))),T.add(h.fog,"near",0,500,1).onChange((()=>C.fog=new Me(h.fog.fogColor,h.fog.near,h.fog.far)));const z=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),S.aspect=a.offsetWidth/a.offsetHeight,S.updateProjectionMatrix(),d.setSize(a.offsetWidth,a.offsetHeight),D())}));F((()=>{s.appendChild(B.domElement),d=new _({canvas:a}),d.setPixelRatio(Math.min(window.devicePixelRatio,2)),d.shadowMap.enabled=!0,d.outputEncoding=be,d.toneMapping=ye,d.toneMappingExposure=h.effectController.exposure,z.observe(a),c=new X(S,a),c.enableDamping=!0,c.dampingFactor=.05,c.screenSpacePanning=!1,c.minDistance=2,c.maxDistance=10,c.maxPolarAngle=Math.PI/2-.1;const e=()=>{D(),window.requestAnimationFrame(e)};e()}));const D=()=>{c.update(),d.render(C,S)};return I((()=>{C.clear(),i.dispose(),w.dispose(),u.dispose(),B.destroy(),l.clear(),d.dispose(),c.dispose(),d.forceContextLoss(),z.unobserve(a)})),[s,a,function(e){ee[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},function(e){ee[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class an extends t{constructor(e){super(),n(this,e,sn,on,o,{},[-1,-1])}}const rn=[{category:"3d defined",items:[{name:"tree",loc:"./assets/3d/tree.glb"},{name:"treec",loc:"./assets/3d/treec.glb"},{name:"epole",loc:"./assets/3d/electpole.glb"}]}];function ln(e){let t,n,o,s,d,p,f,m,u,w;return{c(){t=x("div"),n=x("span"),o=je("Drop File Here"),s=b(),d=x("button"),p=je("Browse File"),f=b(),m=x("input"),this.h()},l(e){t=a(e,"DIV",{class:!0});var l=i(t);n=a(l,"SPAN",{});var c=i(n);o=Te(c,"Drop File Here"),c.forEach(r),s=y(l),d=a(l,"BUTTON",{type:!0,class:!0});var h=i(d);p=Te(h,"Browse File"),h.forEach(r),f=y(l),m=a(l,"INPUT",{type:!0,hidden:!0}),l.forEach(r),this.h()},h(){l(d,"type","button"),l(d,"class","svelte-1m4st5z"),l(m,"type","file"),m.hidden=!0,l(t,"class","svelte-1m4st5z"),de(t,"active",e[1])},m(a,i){c(a,t,i),h(t,n),h(n,o),h(t,s),h(t,d),h(d,p),h(t,f),h(t,m),e[4](m),e[5](t),u||(w=R(d,"click",e[3]),u=!0)},p(e,[n]){2&n&&de(t,"active",e[1])},i:g,o:g,d(n){n&&r(t),e[4](null),e[5](null),u=!1,w()}}}function dn(e,t,n){let o,s,a=!1;const i=ze(),r=e=>{const t=new FileReader;t.onload=()=>{(e=>{i("fileHandle",{file:e}),n(2,s.value="",s)})(t.result)},t.readAsArrayBuffer(e)};F((()=>{o.addEventListener("dragover",(e=>{e.preventDefault(),n(1,a=!0)})),o.addEventListener("dragleave",(()=>{n(1,a=!1)})),o.addEventListener("drop",(e=>{e.preventDefault(),r(e.dataTransfer.files[0]),n(1,a=!1)})),s.addEventListener("change",(()=>{0!=s.files.length&&r(s.files[0])}))}));return[o,a,s,()=>s.click(),function(e){ee[e?"unshift":"push"]((()=>{s=e,n(2,s)}))},function(e){ee[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}class cn extends t{constructor(e){super(),n(this,e,dn,ln,o,{})}}class hn extends Fe{constructor(e,t,n,o=!1){super(),this.animating=!1,this.controls=n;const s=document.createElement("div");s.style.position="absolute",s.style.right="0px",s.style.top="0px",s.style.height="128px",s.style.width="128px";const a=this;s.addEventListener("mouseup",(function(e){e.stopPropagation(),a.handleClick(e)})),s.addEventListener("mousedown",(function(e){e.stopPropagation()})),t.appendChild(s);const i=new q("#ff3653"),r=new q("#8adb00"),l=new q("#2c8fff"),d=[],c=new Oe,h=new Ve,g=new Fe,p=new Ie(-2,2,2,-2,0,4);p.position.set(0,0,2);const f=new re(.8,.05,.05).translate(.4,0,0),m=new se(f,j(i)),u=new se(f,j(r)),w=new se(f,j(l));u.rotation.z=Math.PI/2,w.rotation.y=-Math.PI/2,this.add(m),this.add(w),this.add(u);const v=new De(T(i,"X"));v.userData.type="posX";const C=new De(T(r,"Y"));C.userData.type="posY";const x=new De(T(l,"Z"));x.userData.type="posZ";const b=new De(T(i));b.userData.type="negX";const y=new De(T(r));y.userData.type="negY";const E=new De(T(l));E.userData.type="negZ",v.position.x=1,C.position.y=1,x.position.z=1,b.position.x=-1,b.scale.setScalar(.8),y.position.y=-1,y.scale.setScalar(.8),E.position.z=-1,E.scale.setScalar(.8),this.add(v),this.add(C),this.add(x),this.add(b),this.add(y),this.add(E),d.push(v),d.push(C),d.push(x),d.push(b),d.push(y),d.push(E);const S=new Se,L=128,M=2*Math.PI,P=o?new Ge:void 0;this.render=function(n){this.animating&&this.update(),this.quaternion.copy(e.quaternion).invert(),this.updateMatrixWorld(),S.set(0,0,1),S.applyQuaternion(e.quaternion),S.x>=0?(v.material.opacity=1,b.material.opacity=.5):(v.material.opacity=.5,b.material.opacity=1),S.y>=0?(C.material.opacity=1,y.material.opacity=.5):(C.material.opacity=.5,y.material.opacity=1),S.z>=0?(x.material.opacity=1,E.material.opacity=.5):(x.material.opacity=.5,E.material.opacity=1),n.clearDepth(),n.setViewport(t.offsetWidth-L,t.offsetHeight-L,L,L),n.render(this,p)};const k=new Se,A=new Ye,B=new Ye,H=new Ye;let R=0;function j(e){return new le({color:e,toneMapped:!1})}function T(e,t=null){const n=document.createElement("canvas");n.width=64,n.height=64;const o=n.getContext("2d");o.beginPath(),o.arc(32,32,16,0,2*Math.PI),o.closePath(),o.fillStyle=e.getStyle(),o.fill(),null!==t&&(o.font="24px Arial",o.textAlign="center",o.fillStyle="#000000",o.fillText(t,32,41));const s=new He(n);return new Ne({map:s,toneMapped:!1})}this.handleClick=function(t){if(!0===this.animating)return!1;h.y=(64-t.offsetY)/64,h.x=-(64-t.offsetX)/64,c.setFromCamera(h,p);const n=c.intersectObjects(d);if(n.length>0){return function(t,n){switch(t.userData.type){case"posX":k.set(1,0,0),A.setFromEuler(new $e(0,.5*Math.PI,0));break;case"posY":k.set(0,1,0),A.setFromEuler(new $e(.5*-Math.PI,0,0));break;case"posZ":k.set(0,0,1),A.setFromEuler(new $e);break;case"negX":k.set(-1,0,0),A.setFromEuler(new $e(0,.5*-Math.PI,0));break;case"negY":k.set(0,-1,0),A.setFromEuler(new $e(.5*Math.PI,0,0));break;case"negZ":k.set(0,0,-1),A.setFromEuler(new $e(0,Math.PI,0));break;default:console.error("ViewHelper: Invalid axis.")}R=e.position.distanceTo(n),k.multiplyScalar(R).add(n),g.position.copy(n),g.lookAt(e.position),B.copy(g.quaternion),g.lookAt(k),H.copy(g.quaternion)}(n[0].object,this.controls.target),this.animating=!0,P&&P.start(),!0}return!1},this.update=function(t){!t&&P&&(t=P.getDelta());const n=t*M,o=this.controls.target;B.rotateTowards(H,n),e.position.set(0,0,1).applyQuaternion(B).multiplyScalar(R).add(o),e.quaternion.rotateTowards(A,n),0===B.angleTo(H)&&(this.animating=!1,P&&P.stop())}}}hn.prototype.isViewHelper=!0;function gn(e,t,n){const o=e.slice();return o[70]=t[n],o}function pn(e,t,n){const o=e.slice();return o[73]=t[n],o}function fn(e){let t,n;return{c(){t=x("span"),n=je("Nothing here"),this.h()},l(e){t=a(e,"SPAN",{class:!0});var o=i(t);n=Te(o,"Nothing here"),o.forEach(r),this.h()},h(){l(t,"class","svelte-ckcxip")},m(e,o){c(e,t,o),h(t,n)},p:g,d(e){e&&r(t)}}}function mn(e){let t,n,o,s,d,g,p,f,m,u,w,v,C=e[8].name+"";return{c(){t=x("span"),n=je(C),o=b(),s=x("label"),d=je("Color"),g=b(),p=x("input"),f=b(),m=x("button"),u=je("Clone"),this.h()},l(e){t=a(e,"SPAN",{class:!0});var l=i(t);n=Te(l,C),l.forEach(r),o=y(e),s=a(e,"LABEL",{for:!0,class:!0});var c=i(s);d=Te(c,"Color"),c.forEach(r),g=y(e),p=a(e,"INPUT",{type:!0,id:!0,name:!0,value:!0}),f=y(e),m=a(e,"BUTTON",{type:!0,class:!0});var h=i(m);u=Te(h,"Clone"),h.forEach(r),this.h()},h(){l(t,"class","svelte-ckcxip"),l(s,"for","head"),l(s,"class","svelte-ckcxip"),l(p,"type","color"),l(p,"id","head"),l(p,"name","head"),p.value=e[9],l(m,"type","button"),l(m,"class","d")},m(a,i){c(a,t,i),h(t,n),c(a,o,i),c(a,s,i),h(s,d),c(a,g,i),c(a,p,i),c(a,f,i),c(a,m,i),h(m,u),w||(v=[R(p,"input",e[12]),R(m,"click",e[16])],w=!0)},p(e,t){256&t[0]&&C!==(C=e[8].name+"")&&We(n,C),512&t[0]&&(p.value=e[9])},d(e){e&&r(t),e&&r(o),e&&r(s),e&&r(g),e&&r(p),e&&r(f),e&&r(m),w=!1,z(v)}}}function un(e){let t,n,o,s,d,p=e[73].name+"",f=e[73].loc+"";return{c(){t=x("li"),n=x("span"),o=je(p),s=je(" - "),d=je(f),this.h()},l(e){t=a(e,"LI",{class:!0});var l=i(t);n=a(l,"SPAN",{"data-loc":!0,class:!0,title:!0});var c=i(n);o=Te(c,p),c.forEach(r),s=Te(l," - "),d=Te(l,f),l.forEach(r),this.h()},h(){l(n,"data-loc",e[73].loc),l(n,"class","clickable svelte-ckcxip"),l(n,"title",e[73].loc),l(t,"class","svelte-ckcxip")},m(e,a){c(e,t,a),h(t,n),h(n,o),h(t,s),h(t,d)},p:g,d(e){e&&r(t)}}}function wn(e){let t,n,o,s,d,g=e[70].category+"",p=e[70].items,f=[];for(let a=0;a<p.length;a+=1)f[a]=un(pn(e,p,a));return{c(){t=x("details"),n=x("summary"),o=je(g),s=b(),d=x("ul");for(let e=0;e<f.length;e+=1)f[e].c();this.h()},l(e){t=a(e,"DETAILS",{class:!0});var l=i(t);n=a(l,"SUMMARY",{});var c=i(n);o=Te(c,g),c.forEach(r),s=y(l),d=a(l,"UL",{class:!0});var h=i(d);for(let t=0;t<f.length;t+=1)f[t].l(h);h.forEach(r),l.forEach(r),this.h()},h(){l(d,"class","svelte-ckcxip"),l(t,"class","svelte-ckcxip")},m(e,a){c(e,t,a),h(t,n),h(n,o),h(t,s),h(t,d);for(let t=0;t<f.length;t+=1)f[t].m(d,null)},p(e,t){if(0&t){let n;for(p=e[70].items,n=0;n<p.length;n+=1){const o=pn(e,p,n);f[n]?f[n].p(o,t):(f[n]=un(o),f[n].c(),f[n].m(d,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=p.length}},d(e){e&&r(t),j(f,e)}}}function vn(e){var t,n;let o,s,d,g,p,f,m,u,w,v,E,S,L,M,k,z,F,I,D,N,$,O,V,G,Y,W,_,X,U,q,Z,K,J,Q,ee,te,ne,oe,se,ae,ie,re,le,de,ce,he,ge,pe,fe,me,ue,we,ve,Ce,xe,be,ye,Ee,Se,Le,Me=e[6]?"Snap Enabled":"",Pe=e[2].objects+"",ke=e[2].vertices+"",Ae=e[2].triangles+"",Be=e[10].x.toFixed(2)+"",He=e[10].y.toFixed(2)+"",Re=(null==(t=e[7])?void 0:t.name)+"",ze=(null==(n=e[8])?void 0:n.name)+"";function Fe(e,t){return e[8]?mn:fn}let Ie=Fe(e),De=Ie(e),Ne=rn,$e=[];for(let a=0;a<Ne.length;a+=1)$e[a]=wn(gn(e,Ne,a));return ae=new cn({}),ae.$on("fileHandle",e[11]),{c(){o=x("div"),s=x("div"),d=x("div"),g=x("div"),p=x("div"),f=x("span"),m=je(Me),u=b(),w=x("span"),v=je("objects "),E=je(Pe),S=b(),L=x("span"),M=je("vertices "),k=je(ke),z=b(),F=x("span"),I=je("triangles "),D=je(Ae),N=b(),$=x("div"),O=x("div"),De.c(),V=b(),G=x("canvas"),Y=b(),W=x("div"),_=x("span"),X=je("Select Model"),U=b(),q=x("div");for(let e=0;e<$e.length;e+=1)$e[e].c();Z=b(),K=x("hr"),J=b(),Q=x("div"),ee=x("button"),te=je("Clear Scene"),ne=b(),oe=x("hr"),se=b(),A(ae.$$.fragment),ie=b(),re=x("hr"),le=b(),de=x("div"),ce=x("span"),he=je("Mouse X: "),ge=je(Be),pe=je(" Y: "),fe=je(He),me=je("\n    |\n    "),ue=x("span"),we=je("Name: "),ve=je(Re),Ce=je("\n    |\n    "),xe=x("span"),be=je("Clicked Parent Name: "),ye=je(ze),this.h()},l(e){o=a(e,"DIV",{class:!0});var t=i(o);s=a(t,"DIV",{class:!0});var n=i(s);d=a(n,"DIV",{class:!0});var l=i(d);g=a(l,"DIV",{class:!0});var c=i(g);p=a(c,"DIV",{class:!0});var h=i(p);f=a(h,"SPAN",{class:!0});var C=i(f);m=Te(C,Me),C.forEach(r),u=y(h),w=a(h,"SPAN",{class:!0});var x=i(w);v=Te(x,"objects "),E=Te(x,Pe),x.forEach(r),S=y(h),L=a(h,"SPAN",{class:!0});var b=i(L);M=Te(b,"vertices "),k=Te(b,ke),b.forEach(r),z=y(h),F=a(h,"SPAN",{class:!0});var P=i(F);I=Te(P,"triangles "),D=Te(P,Ae),P.forEach(r),h.forEach(r),c.forEach(r),N=y(l),$=a(l,"DIV",{class:!0});var A=i($);O=a(A,"DIV",{class:!0});var H=i(O);De.l(H),H.forEach(r),A.forEach(r),V=y(l),G=a(l,"CANVAS",{class:!0,tabindex:!0}),i(G).forEach(r),l.forEach(r),Y=y(n),W=a(n,"DIV",{class:!0});var R=i(W);_=a(R,"SPAN",{class:!0});var j=i(_);X=Te(j,"Select Model"),j.forEach(r),U=y(R),q=a(R,"DIV",{class:!0});var T=i(q);for(let o=0;o<$e.length;o+=1)$e[o].l(T);Z=y(T),K=a(T,"HR",{}),J=y(T),Q=a(T,"DIV",{});var Ee=i(Q);ee=a(Ee,"BUTTON",{type:!0});var Se=i(ee);te=Te(Se,"Clear Scene"),Se.forEach(r),Ee.forEach(r),ne=y(T),oe=a(T,"HR",{}),se=y(T),B(ae.$$.fragment,T),ie=y(T),re=a(T,"HR",{}),T.forEach(r),R.forEach(r),n.forEach(r),le=y(t),de=a(t,"DIV",{class:!0});var Le=i(de);ce=a(Le,"SPAN",{});var je=i(ce);he=Te(je,"Mouse X: "),ge=Te(je,Be),pe=Te(je," Y: "),fe=Te(je,He),je.forEach(r),me=Te(Le,"\n    |\n    "),ue=a(Le,"SPAN",{});var Fe=i(ue);we=Te(Fe,"Name: "),ve=Te(Fe,Re),Fe.forEach(r),Ce=Te(Le,"\n    |\n    "),xe=a(Le,"SPAN",{});var Ie=i(xe);be=Te(Ie,"Clicked Parent Name: "),ye=Te(Ie,ze),Ie.forEach(r),Le.forEach(r),t.forEach(r),this.h()},h(){l(f,"class","svelte-ckcxip"),l(w,"class","svelte-ckcxip"),l(L,"class","svelte-ckcxip"),l(F,"class","svelte-ckcxip"),l(p,"class","b-info svelte-ckcxip"),l(g,"class","debug debugm"),l(O,"class","rmenu nvisible svelte-ckcxip"),l($,"class","wrapper svelte-ckcxip"),l(G,"class","canvas"),l(G,"tabindex","0"),l(d,"class","m-show svelte-ckcxip"),l(_,"class","m-title svelte-ckcxip"),l(ee,"type","button"),l(q,"class","selection svelte-ckcxip"),l(W,"class","m-props svelte-ckcxip"),l(s,"class","f fcol m-main svelte-ckcxip"),l(de,"class","m-footer svelte-ckcxip"),l(o,"class","f frow svelte-ckcxip")},m(t,n){c(t,o,n),h(o,s),h(s,d),h(d,g),h(g,p),h(p,f),h(f,m),h(p,u),h(p,w),h(w,v),h(w,E),h(p,S),h(p,L),h(L,M),h(L,k),h(p,z),h(p,F),h(F,I),h(F,D),e[15](g),h(d,N),h(d,$),h($,O),De.m(O,null),e[17](O),h(d,V),h(d,G),e[18](G),e[19](d),h(s,Y),h(s,W),h(W,_),h(_,X),h(W,U),h(W,q);for(let e=0;e<$e.length;e+=1)$e[e].m(q,null);h(q,Z),h(q,K),h(q,J),h(q,Q),h(Q,ee),h(ee,te),h(q,ne),h(q,oe),h(q,se),H(ae,q,null),h(q,ie),h(q,re),e[21](W),h(o,le),h(o,de),h(de,ce),h(ce,he),h(ce,ge),h(ce,pe),h(ce,fe),h(de,me),h(de,ue),h(ue,we),h(ue,ve),h(de,Ce),h(de,xe),h(xe,be),h(xe,ye),Ee=!0,Se||(Le=R(ee,"click",e[20]),Se=!0)},p(e,t){var n,o;if((!Ee||64&t[0])&&Me!==(Me=e[6]?"Snap Enabled":"")&&We(m,Me),(!Ee||4&t[0])&&Pe!==(Pe=e[2].objects+"")&&We(E,Pe),(!Ee||4&t[0])&&ke!==(ke=e[2].vertices+"")&&We(k,ke),(!Ee||4&t[0])&&Ae!==(Ae=e[2].triangles+"")&&We(D,Ae),Ie===(Ie=Fe(e))&&De?De.p(e,t):(De.d(1),De=Ie(e),De&&(De.c(),De.m(O,null))),0&t){let n;for(Ne=rn,n=0;n<Ne.length;n+=1){const o=gn(e,Ne,n);$e[n]?$e[n].p(o,t):($e[n]=wn(o),$e[n].c(),$e[n].m(q,Z))}for(;n<$e.length;n+=1)$e[n].d(1);$e.length=Ne.length}(!Ee||1024&t[0])&&Be!==(Be=e[10].x.toFixed(2)+"")&&We(ge,Be),(!Ee||1024&t[0])&&He!==(He=e[10].y.toFixed(2)+"")&&We(fe,He),(!Ee||128&t[0])&&Re!==(Re=(null==(n=e[7])?void 0:n.name)+"")&&We(ve,Re),(!Ee||256&t[0])&&ze!==(ze=(null==(o=e[8])?void 0:o.name)+"")&&We(ye,ze)},i(e){Ee||(C(ae.$$.fragment,e),Ee=!0)},o(e){P(ae.$$.fragment,e),Ee=!1},d(t){t&&r(o),e[15](null),De.d(),e[17](null),e[18](null),e[19](null),j($e,t),T(ae),e[21](null),Se=!1,Le()}}}function Cn(e,t,n){let o,s,a;$(e,vt,(e=>n(43,o=e))),mt.set("\n# Models\n\nUse own models to see how is looking.\n\nShortcuts\n\n```\nf: look to selected object\ns: console log scene\nl: console log selected\ndel: delete selected\nw, e, r: transform control change\np: parent select one by one\n+, -: transform size\nq: transform world/local\nshift: snap\nspacebar: enable-disable transform\nc: change camera type Perspective/OrthographicCamera\n```\n");const i={objects:0,vertices:0,triangles:0,frametime:0},r=new O;let l,d,c,h,g,p,f=!1;const m=new Oe;let u,w,v;const C={background:13421772,effectController:{exposure:.5,toneMapping:"ACESFilmicToneMapping"},lights:{hemisphereLightOn:!0,hemisphereLightColor:16777215,hemisphereGroundColor:16777215,hemisphereIntensity:.5,dirLightOn:!0,dirLightColor:16776168,dirLightIntensity:3.2},fog:{fogColor:14474460,near:1,far:100},config:{parentSelect:!1}},x=new _e;x.setDecoderPath("./assets/lib/draco/");const b=new Xe;b.setDRACOLoader(x),Je.enabled=!0;const y=new Y;y.background=new q(13421772),y.fog=new te(C.fog.fogColor,.001);const E=new me;E.name="extra",y.add(E);const S=new Pe(C.lights.hemisphereLightColor,C.lights.hemisphereGroundColor,C.lights.hemisphereIntensity);S.position.set(0,20,0),S.name="threejs-hemi",y.add(S);const L=new ke(S,10);L.name="threejs-hemiHelper",y.add(L);const M=new ae(C.lights.dirLightColor,C.lights.dirLightIntensity);M.position.set(-1,1.75,1),M.position.multiplyScalar(20),M.name="threejs-dirLight",y.add(M),M.castShadow=!0,M.shadow.mapSize.width=256,M.shadow.mapSize.height=256;const P=new Ae(M,10);let k;P.name="threejs-dirLightHelper",y.add(P);const A=new W(75,1,.01,2e3),B=new Ie(0,0,5,-5);k=A,k.position.z=5,k.position.y=5,k.position.x=5;const H=new we(1);H.visible=!1,H.name="threejs-axesHelper",y.add(H);const R=new Ue(5,10);R.name="threejs-gridHelper",y.add(R);const j=new V({autoPlace:!1,closeOnTop:!0});j.close(),j.add(H,"visible").name("axes helper visible"),j.addColor(C,"background").onChange((()=>{y.background=new q(C.background)}));j.addFolder("render").add(C.effectController,"exposure",0,1,1e-4).onChange((e=>h.toneMappingExposure=e));const T=j.addFolder("lights");T.add(C.lights,"dirLightOn").onChange((e=>M.visible=e)),T.addColor(C.lights,"dirLightColor").onChange((e=>M.color.set(e))),T.add(C.lights,"dirLightIntensity",0,20,.01).onChange((e=>M.intensity=e)),T.add(C.lights,"hemisphereLightOn").onChange((e=>S.visible=e)),T.add(C.lights,"hemisphereIntensity",0,20,.01).onChange((e=>S.intensity=e)),T.addColor(C.lights,"hemisphereLightColor").onChange((e=>S.color.set(e))),T.addColor(C.lights,"hemisphereGroundColor").onChange((e=>S.groundColor.set(e)));const z=j.addFolder("fog");z.addColor(C.fog,"fogColor").onChange((()=>y.fog=new Me(C.fog.fogColor,C.fog.near,C.fog.far))),z.add(C.fog,"far",0,500,1).onChange((()=>y.fog=new Me(C.fog.fogColor,C.fog.near,C.fog.far))),z.add(C.fog,"near",0,500,1).onChange((()=>y.fog=new Me(C.fog.fogColor,C.fog.near,C.fog.far))),j.add(C.effectController,"toneMapping",["ACESFilmicToneMapping","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping"]).onChange((e=>{h.toneMapping=qe[e]}));const D=e=>{const t=e.scene;E.add(t),y.add(E);const n=new Qe(t);n.visible=!0,E.add(n),U()},N=e=>{const t=e.target.dataset.loc;t&&(e=>{b.load(e,D)})(t)},U=()=>{n(2,[i.objects,i.vertices,i.triangles]=(e=>{let t=0,n=0,o=0;for(let s=0,a=e.children.length;s<a;s++)e.children[s].traverseVisible((e=>{if(t++,e instanceof se){const t=e.geometry;n+=t.attributes.position.count,null!==t.index?o+=t.index.count/3:o+=t.attributes.position.count/3}}));return[t,n,o]})(E),i)},Z=e=>{e?a.classList.remove("nvisible"):a.classList.contains("nvisible")||a.classList.add("nvisible")},K=new Ze(void 0,16776960);K.material.depthTest=!1,K.visible=!1,y.add(K);const J=(e,t)=>{e?(p.attach(t),K.setFromObject(t),K.visible=!0):(K.visible=!1,p.detach(),n(8,w=void 0))},Q=new Ve(-1,-1),ne=new Ve(-1,-1),oe=new Ve,ie=new Ve,re=e=>{var t;ne.x=e.clientX-d.getBoundingClientRect().left,ne.y=e.clientY-d.getBoundingClientRect().top,n(10,Q.x=ne.x/d.clientWidth*2-1,Q),n(10,Q.y=-ne.y/d.clientHeight*2+1,Q),m.setFromCamera(Q,k);const o=m.intersectObjects(E.children,!0);n(7,u=null===(t=o[0])||void 0===t?void 0:t.object)},le=e=>{oe.x=e.clientX,oe.y=e.clientY},de=e=>{e.stopPropagation(),e.preventDefault(),w&&n(9,v="#"+w.material.color.getHexString());let t=d.getBoundingClientRect().height-ne.y-a.getBoundingClientRect().height;t=t>=0?0:t;let o=d.getBoundingClientRect().width-ne.x-a.getBoundingClientRect().width;o=o>=0?0:o,n(1,a.style.left=`${ne.x+o}px`,a),n(1,a.style.top=`${ne.y+t}px`,a)},ce=e=>{if(ie.x=e.clientX,ie.y=e.clientY,0===oe.distanceTo(ie)){u||J(!1,void 0),2==e.button&&Z(!0);const t=u;ge(t,+!C.config.parentSelect-1),0==e.button&&(t&&t!==p.object&&J(!0,t),Z(!1))}},he=()=>{w?(g.target.set(w.position.x,w.position.y,w.position.z),k.position.set(w.position.x+5,w.position.y+5,w.position.z+5)):(g.target.set(0,0,0),k.position.set(5,5,5))},ge=(e,t)=>{let o=0;if(e){for(;(null==e?void 0:e.parent)!==E&&o<t;)e=e.parent,o=t<0?o:o+1;w!=e&&(n(8,w=e),J(!0,e))}},pe=e=>{const t=e.clone();E.add(t),n(8,w=t),Z(!1),J(!0,t),U()},fe=e=>{e?e.parent.remove(e):E.clear(),J(!1,void 0),U()};let ue;F((()=>{l.appendChild(r.dom),s.addEventListener("click",N),j.domElement.style.bottom="0",l.appendChild(j.domElement),h=new _({canvas:d,stencil:!1,powerPreference:"high-performance"}),h.setPixelRatio(Math.min(window.devicePixelRatio,2)),h.shadowMap.enabled=!0,h.outputEncoding=be,h.toneMapping=qe[C.effectController.toneMapping],h.toneMappingExposure=C.effectController.exposure,ye.observe(d),g=new X(k,d),g.target.set(0,0,0),g.enableDamping=!0,g.dampingFactor=.05,g.screenSpacePanning=!1,p=new Ke(k,h.domElement),p.addEventListener("dragging-changed",(e=>{g.enabled=!e.value})),p.name="threejs-transform",y.add(p),ue=new hn(k,c,g,!0),d.addEventListener("pointermove",re),d.addEventListener("pointerdown",le),d.addEventListener("pointerup",ce),d.addEventListener("contextmenu",de),d.addEventListener("keydown",(e=>{switch(e.key){case"Shift":f||(n(6,f=!0),p.setTranslationSnap(.5),p.setRotationSnap(Ee.degToRad(5)),p.setScaleSnap(.25))}})),d.addEventListener("keyup",(e=>{switch(e.key){case"f":he();break;case"s":console.log(y),console.log(A),console.log(B),console.log(g),console.log(h);break;case"Delete":w&&fe(w);break;case"l":console.log(w);break;case"q":p.setSpace("local"==p.space?"world":"local");break;case"w":p.mode="translate";break;case"e":p.mode="rotate";break;case"r":p.mode="scale";break;case"p":ge(w,1);break;case"Shift":n(6,f=!1),p.setTranslationSnap(null),p.setRotationSnap(null),p.setScaleSnap(null);break;case"+":p.setSize(p.size+.1);break;case"-":p.setSize(Math.max(p.size-.1,.1));break;case"x":p.showX=!p.showX;break;case"y":p.showY=!p.showY;break;case"z":p.showZ=!p.showZ;break;case" ":p.enabled=!p.enabled;break;case"c":{const e=k.position.clone();k=k==B?A:B,k.position.copy(e),g.object=k,p.camera=k,k.lookAt(g.target.x,g.target.y,g.target.z)}}})),a.addEventListener("contextmenu",(e=>e.preventDefault())),h.setAnimationLoop(Ce)}));const ve=()=>{h.setViewport(0,0,null==d?void 0:d.offsetWidth,null==d?void 0:d.offsetHeight),h.render(y,k),h.autoClear=!1,ue.render(h),h.autoClear=!0},Ce=()=>{null==K||K.update(),g.update(),ve(),r.update()},xe=()=>{o.resize&&console.log("resize");const e=d.offsetWidth/d.offsetHeight;A.aspect=e,A.updateProjectionMatrix(),B.left=B.bottom*e,B.right=B.top*e,B.updateProjectionMatrix(),h.setSize(d.offsetWidth,d.offsetHeight)},ye=new G((e=>{for(const t of e)t.contentBoxSize&&(xe(),ve())}));I((()=>{j.destroy(),h.dispose(),g.dispose(),p.dispose(),h.forceContextLoss(),ye.unobserve(d)}));return[s,a,i,l,d,c,f,u,w,v,Q,e=>{const t=e.detail.file;b.parse(t,void 0,D)},e=>{var t;(null===(t=w)||void 0===t?void 0:t.material).color.setStyle(e.target.value)},pe,fe,function(e){ee[e?"unshift":"push"]((()=>{l=e,n(3,l)}))},()=>pe(w),function(e){ee[e?"unshift":"push"]((()=>{a=e,n(1,a)}))},function(e){ee[e?"unshift":"push"]((()=>{d=e,n(4,d)}))},function(e){ee[e?"unshift":"push"]((()=>{c=e,n(5,c)}))},()=>fe(),function(e){ee[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class xn extends t{constructor(e){super(),n(this,e,Cn,vn,o,{},[-1,-1,-1])}}function bn(e){let t,n,o,s,d,p,f,m,u,w,v,C=e[2].x.toFixed(2)+"",E=e[2].y.toFixed(2)+"";return{c(){t=x("div"),n=x("div"),o=x("span"),s=je("ClientX: "),d=je(C),p=b(),f=x("span"),m=je("ClientY: "),u=je(E),w=b(),v=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0});var l=i(t);n=a(l,"DIV",{class:!0});var c=i(n);o=a(c,"SPAN",{class:!0});var h=i(o);s=Te(h,"ClientX: "),d=Te(h,C),h.forEach(r),p=y(c),f=a(c,"SPAN",{class:!0});var g=i(f);m=Te(g,"ClientY: "),u=Te(g,E),g.forEach(r),c.forEach(r),l.forEach(r),w=y(e),v=a(e,"CANVAS",{class:!0,tabindex:!0}),i(v).forEach(r),this.h()},h(){l(o,"class","svelte-1vuqi8o"),l(f,"class","svelte-1vuqi8o"),l(n,"class","info-mouse svelte-1vuqi8o"),l(t,"class","debug"),l(v,"class","canvas"),l(v,"tabindex","0")},m(a,i){c(a,t,i),h(t,n),h(n,o),h(o,s),h(o,d),h(n,p),h(n,f),h(f,m),h(f,u),e[3](t),c(a,w,i),c(a,v,i),e[4](v)},p(e,[t]){4&t&&C!==(C=e[2].x.toFixed(2)+"")&&We(d,C),4&t&&E!==(E=e[2].y.toFixed(2)+"")&&We(u,E)},i:g,o:g,d(n){n&&r(t),e[3](null),n&&r(w),n&&r(v),e[4](null)}}}function yn(e,t,n){let o,s,a,i;$(e,vt,(e=>n(16,o=e))),mt.set('\n# Hover Box\n\n```js\n// Raycaster\nconst raycaster = new THREE.Raycaster();\n\n// Mouse\nconst mouse = new THREE.Vector2(-1, -1);\n\nconst catchMouseMove = (e: MouseEvent) => {\n  mouse.x = e.clientX - canvas.getBoundingClientRect().left;\n  mouse.y = e.clientY - canvas.getBoundingClientRect().top;\n  mouse.x = mouse.x / canvas.clientWidth * 2 - 1;\n  mouse.y = - (mouse.y / canvas.clientHeight) * 2 + 1;\n};\n\nconst tick = () => {\n    ...\n\n    raycaster.setFromCamera(mouse, camera);\n    const intersects = raycaster.intersectObjects(group.children);\n\n    for (const intersect of intersects) {\n      console.log(intersect);\n      const material = (intersect.object as THREE.Mesh).material as THREE.MeshBasicMaterial;\n      material.color.set("#0000ff");\n    }\n    for (const object of group.children) {\n      if (!intersects.find((intersect) => intersect.object === object)) {\n        const material = (object as THREE.Mesh).material as THREE.MeshBasicMaterial;\n        material.color.set("#ff0000");\n      }\n    }\n    \n    ...\n\n\n  ...\n\n  canvas.addEventListener("mousemove", catchMouseMove);\n  ...\n  canvas.removeEventListener("mousemove", catchMouseMove);\n```\n');const r={};let l,d,c;const h={color:16777215,background:16777215,width:1,height:1,depth:1,widthSegments:1,heightSegments:1,depthSegments:1,effectController:{turbidity:10,rayleigh:3,mieCoefficient:.005,mieDirectionalG:.7,elevation:2,azimuth:180,exposure:.5},lights:{hemisphereLightOn:!0,hemisphereLightColor:16777215,hemisphereGroundColor:16777215,hemisphereIntensity:1,dirLightOn:!0,dirLightColor:16777215,dirLightIntensity:6},fog:{fogColor:14474460,near:1,far:100}};r.mesh=new Le({color:"#ff0000"});const g=new Y;g.background=new q(13421772),g.fog=new te(13421772,.002);const p=new Pe(h.lights.hemisphereLightColor,h.lights.hemisphereGroundColor,h.lights.hemisphereIntensity);p.position.set(0,20,0),g.add(p);const f=new ke(p,10);g.add(f);const m=new ae(h.lights.dirLightColor,h.lights.dirLightIntensity);m.position.set(-1,1.75,1),m.position.multiplyScalar(20),g.add(m),m.castShadow=!0,m.shadow.mapSize.width=512,m.shadow.mapSize.height=512,m.shadow.radius=2;const u=new Ae(m,10);g.add(u);const w=new W(75);w.position.z=1,w.position.y=1,w.position.x=1,g.add(w);const v=new we(1);v.visible=!1,g.add(v);const C=new xe(1e4,1e4),x=new Be({color:16777215});x.color.setHSL(.095,1,.75);const b=new se(C,x);b.position.y=0,b.rotation.x=-Math.PI/2,b.receiveShadow=!0,g.add(b);const y=()=>{l.children.forEach((e=>e.geometry.dispose())),i=new re(h.width,h.height,h.depth,h.widthSegments,h.heightSegments,h.depthSegments),l.children[0].geometry=i,l.position.y=h.height/2};i=new U,l=new me,l.add(new se(i,r.mesh)),l.children[0].castShadow=!0,y(),g.add(l);const E=new Oe,S=new V({autoPlace:!1});{S.close(),S.add(v,"visible").name("axes helper visible"),S.addColor(h,"color").onChange((()=>{r.mesh.color.set(h.color)})),S.addColor(h,"background").onChange((()=>{g.background=new q(h.background)}));const e=S.addFolder("dimensions");e.add(h,"height").min(1).max(5).step(.01).onChange(y),e.add(h,"width").min(1).max(5).step(.01).onChange(y),e.add(h,"depth").min(1).max(5).step(.01).onChange(y),e.add(h,"widthSegments").min(1).max(5).step(1).onChange(y),e.add(h,"heightSegments").min(1).max(5).step(1).onChange(y),e.add(h,"depthSegments").min(1).max(5).step(1).onChange(y);const t=S.addFolder("positions");t.add(l.position,"y").min(-3).max(3).step(.01),t.add(l.position,"x").min(-3).max(3).step(.01),t.add(l.position,"z").min(-3).max(3).step(.01);S.addFolder("render").add(h.effectController,"exposure",0,1,1e-4).onChange((e=>d.toneMappingExposure=e));const n=S.addFolder("lights");n.add(h.lights,"dirLightOn").onChange((e=>m.visible=e)),n.addColor(h.lights,"dirLightColor").onChange((e=>m.color.set(e))),n.add(h.lights,"dirLightIntensity",0,20,.01).onChange((e=>m.intensity=e)),n.add(h.lights,"hemisphereLightOn").onChange((e=>p.visible=e)),n.add(h.lights,"hemisphereIntensity",0,20,.01).onChange((e=>p.intensity=e)),n.addColor(h.lights,"hemisphereLightColor").onChange((e=>p.color.set(e))),n.addColor(h.lights,"hemisphereGroundColor").onChange((e=>p.groundColor.set(e)));const o=S.addFolder("fog");o.addColor(h.fog,"fogColor").onChange((()=>g.fog=new Me(h.fog.fogColor,h.fog.near,h.fog.far))),o.add(h.fog,"far",0,500,1).onChange((()=>g.fog=new Me(h.fog.fogColor,h.fog.near,h.fog.far))),o.add(h.fog,"near",0,500,1).onChange((()=>g.fog=new Me(h.fog.fogColor,h.fog.near,h.fog.far)))}const L=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),w.aspect=a.offsetWidth/a.offsetHeight,w.updateProjectionMatrix(),d.setSize(a.offsetWidth,a.offsetHeight),k())})),M=new Ve(-1,-1),P=e=>{n(2,M.x=e.clientX-a.getBoundingClientRect().left,M),n(2,M.y=e.clientY-a.getBoundingClientRect().top,M),n(2,M.x=M.x/a.clientWidth*2-1,M),n(2,M.y=-M.y/a.clientHeight*2+1,M)};F((()=>{s.appendChild(S.domElement),d=new _({canvas:a}),d.setPixelRatio(Math.min(window.devicePixelRatio,2)),d.shadowMap.enabled=!0,d.outputEncoding=be,d.toneMapping=ye,d.toneMappingExposure=h.effectController.exposure,L.observe(a),c=new X(w,a),c.enableDamping=!0,c.dampingFactor=.05,c.screenSpacePanning=!1,c.minDistance=2,c.maxDistance=10,c.maxPolarAngle=Math.PI/2-.1,a.addEventListener("mousemove",P);const e=()=>{k(),window.requestAnimationFrame(e)};e()}));const k=()=>{c.update(),E.setFromCamera(M,w);const e=E.intersectObjects(l.children);for(const t of e){t.object.material.color.set("#0000ff")}for(const t of l.children)if(!e.find((e=>e.object===t))){t.material.color.set("#ff0000")}d.render(g,w)};return I((()=>{g.clear(),i.dispose(),Object.values(r).forEach((e=>e.dispose())),S.destroy(),l.clear(),d.dispose(),c.dispose(),d.forceContextLoss(),L.unobserve(a),a.removeEventListener("mousemove",P)})),[s,a,M,function(e){ee[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},function(e){ee[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class En extends t{constructor(e){super(),n(this,e,yn,bn,o,{})}}function Sn(e){let t,n;return{c(){t=x("span"),n=je("Nothing here"),this.h()},l(e){t=a(e,"SPAN",{class:!0});var o=i(t);n=Te(o,"Nothing here"),o.forEach(r),this.h()},h(){l(t,"class","svelte-elei1o")},m(e,o){c(e,t,o),h(t,n)},p:g,d(e){e&&r(t)}}}function Ln(e){let t,n,o,s,d,g,p,f,m,u=e[3].name+"";return{c(){t=x("span"),n=je(u),o=b(),s=x("label"),d=je("Head"),g=b(),p=x("input"),this.h()},l(e){t=a(e,"SPAN",{class:!0});var l=i(t);n=Te(l,u),l.forEach(r),o=y(e),s=a(e,"LABEL",{for:!0,class:!0});var c=i(s);d=Te(c,"Head"),c.forEach(r),g=y(e),p=a(e,"INPUT",{type:!0,id:!0,name:!0}),this.h()},h(){l(t,"class","svelte-elei1o"),l(s,"for","head"),l(s,"class","svelte-elei1o"),l(p,"type","color"),l(p,"id","head"),l(p,"name","head")},m(a,i){c(a,t,i),h(t,n),c(a,o,i),c(a,s,i),h(s,d),c(a,g,i),c(a,p,i),et(p,e[0]),f||(m=R(p,"input",e[7]),f=!0)},p(e,t){8&t[0]&&u!==(u=e[3].name+"")&&We(n,u),1&t[0]&&et(p,e[0])},d(e){e&&r(t),e&&r(o),e&&r(s),e&&r(g),e&&r(p),f=!1,m()}}}function Mn(e){let t,n,o,s,d,p,f,m,u,w,v,C,E,S=e[5].x.toFixed(2)+"",L=e[5].y.toFixed(2)+"";function M(e,t){return e[3]?Ln:Sn}let P=M(e),k=P(e);return{c(){t=x("div"),n=x("div"),o=x("span"),s=je("ClientX: "),d=je(S),p=b(),f=x("span"),m=je("ClientY: "),u=je(L),w=b(),v=x("div"),k.c(),C=b(),E=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0});var l=i(t);n=a(l,"DIV",{class:!0});var c=i(n);o=a(c,"SPAN",{class:!0});var h=i(o);s=Te(h,"ClientX: "),d=Te(h,S),h.forEach(r),p=y(c),f=a(c,"SPAN",{class:!0});var g=i(f);m=Te(g,"ClientY: "),u=Te(g,L),g.forEach(r),c.forEach(r),l.forEach(r),w=y(e),v=a(e,"DIV",{class:!0});var x=i(v);k.l(x),x.forEach(r),C=y(e),E=a(e,"CANVAS",{class:!0,tabindex:!0}),i(E).forEach(r),this.h()},h(){l(o,"class","svelte-elei1o"),l(f,"class","svelte-elei1o"),l(n,"class","info-mouse svelte-elei1o"),l(t,"class","debug"),l(v,"class","rmenu nvisible svelte-elei1o"),l(E,"class","canvas"),l(E,"tabindex","0")},m(a,i){c(a,t,i),h(t,n),h(n,o),h(o,s),h(o,d),h(n,p),h(n,f),h(f,m),h(f,u),e[6](t),c(a,w,i),c(a,v,i),k.m(v,null),e[8](v),c(a,C,i),c(a,E,i),e[9](E)},p(e,t){32&t[0]&&S!==(S=e[5].x.toFixed(2)+"")&&We(d,S),32&t[0]&&L!==(L=e[5].y.toFixed(2)+"")&&We(u,L),P===(P=M(e))&&k?k.p(e,t):(k.d(1),k=P(e),k&&(k.c(),k.m(v,null)))},i:g,o:g,d(n){n&&r(t),e[6](null),n&&r(w),n&&r(v),k.d(),e[8](null),n&&r(C),n&&r(E),e[9](null)}}}function Pn(e,t,n){let o,s,a,i;$(e,vt,(e=>n(23,o=e))),mt.set('\n# Click Box\n\nRight click to an object to see action.\n\nFor right click-menu, need to listener `contextmenu`\nbut if you want to catch middle and left click use `pointerdown`.\n\n```js\n// Click events\nlet objectClicked: THREE.Mesh;\nlet objectClickedColor: string;\nlet objectMove: THREE.Mesh;\nlet rMenu: HTMLDivElement;\n\n\n// Mouse\nconst mouse = new THREE.Vector2(-1, -1);\nconst mouseR = new THREE.Vector2(-1, -1);\n\nconst catchMouseMove = (e: MouseEvent) => {\n  mouseR.x = e.clientX - canvas.getBoundingClientRect().left;\n  mouseR.y = e.clientY - canvas.getBoundingClientRect().top;\n  mouse.x = mouseR.x / canvas.clientWidth * 2 - 1;\n  mouse.y = - (mouseR.y / canvas.clientHeight) * 2 + 1;\n};\n\n// Catch Mouse Click\nconst catchMouseRClick = (e: MouseEvent) => {\n  e.stopPropagation();\n  e.preventDefault();\n  objectClicked = objectMove;\n  console.log(e.button, objectClicked);\n  if (objectMove) {\n    objectClickedColor = "#" + (objectClicked.material as THREE.MeshStandardMaterial).color.getHexString();\n  }\n  rMenu.classList.remove("nvisible");\n  rMenu.style.left = `${mouseR.x}px`;\n  rMenu.style.top = `${mouseR.y}px`;\n};\n\nconst catchMouseClick = (e: MouseEvent) => {\n  e.stopPropagation();\n  e.preventDefault();\n  console.log("Mouse clicked", e.button);\n  if ((e.button - 2) < 0) {\n    if (!rMenu.classList.contains("nvisible")) {\n      rMenu.classList.add("nvisible");\n    }\n  }\n};\n\n// Change color\nconst colorChange = (color: string) => {\n  if (objectClicked) {\n    (objectClicked.material as THREE.MeshStandardMaterial).color.setStyle(color);\n  }\n};\n\n// Call every color change\n$: {\n  colorChange(objectClickedColor);\n}\n\n...\n// In tick\n{\nraycaster.setFromCamera(mouse, camera);\n\nconst intersects = raycaster.intersectObjects(group.children);\nobjectMove = intersects[0]?.object as THREE.Mesh;\n}\n\n```\n\nAnd some HTML part for right-click menu\n\n```html\n<div class="rmenu nvisible" bind:this={rMenu}>\n  {#if objectClicked}\n  <span>{objectClicked.name}</span>\n  <label for="head">Head</label>\n  <input type="color" id="head" name="head" bind:value={objectClickedColor}>\n  {:else}\n    <span>Nothing here</span>\n  {/if}\n</div>\n```\n');const r=[];let l,d,c,h,g,p,f;const m={color:16777215,background:16777215,width:1,height:1,depth:1,widthSegments:1,heightSegments:1,depthSegments:1,effectController:{turbidity:10,rayleigh:3,mieCoefficient:.005,mieDirectionalG:.7,elevation:2,azimuth:180,exposure:.5},lights:{hemisphereLightOn:!0,hemisphereLightColor:16777215,hemisphereGroundColor:16777215,hemisphereIntensity:1,dirLightOn:!0,dirLightColor:16777215,dirLightIntensity:6},fog:{fogColor:14474460,near:1,far:100}},u=new Y;u.background=new q(13421772),u.fog=new te(13421772,.002);const w=new Pe(m.lights.hemisphereLightColor,m.lights.hemisphereGroundColor,m.lights.hemisphereIntensity);w.position.set(0,20,0),u.add(w);const v=new ke(w,10);u.add(v);const C=new ae(m.lights.dirLightColor,m.lights.dirLightIntensity);C.position.set(-1,1.75,1),C.position.multiplyScalar(20),u.add(C),C.castShadow=!0,C.shadow.mapSize.width=512,C.shadow.mapSize.height=512,C.shadow.radius=2;const x=new Ae(C,10);u.add(x);const b=new W(75);b.position.z=-5,b.position.y=10,b.position.x=8,u.add(b);const y=new we(1);y.visible=!1,u.add(y);const E=new xe(1e4,1e4),S=new Be({color:16777215});S.color.setHSL(.095,1,.75);const L=new se(E,S);L.position.y=0,L.rotation.x=-Math.PI/2,L.receiveShadow=!0,u.add(L);const M=()=>{l.clear(),i=new re(m.width,m.height,m.depth,m.widthSegments,m.heightSegments,m.depthSegments);for(let e=-5;e<5;e++){r[e]=new Le({color:"#ff0000"});const t=new se(i,r[e]);t.geometry=i,t.name=`Box ${e}`,t.castShadow=!0,t.position.z-=2*e,l.add(t)}l.position.y=m.height/2};l=new me,M(),u.add(l);const P=new Oe,k=new V({autoPlace:!1});{k.close(),k.add(y,"visible").name("axes helper visible"),k.addColor(m,"color").onChange((()=>{r.mesh.color.set(m.color)})),k.addColor(m,"background").onChange((()=>{u.background=new q(m.background)}));const e=k.addFolder("dimensions");e.add(m,"height").min(1).max(5).step(.01).onChange(M),e.add(m,"width").min(1).max(5).step(.01).onChange(M),e.add(m,"depth").min(1).max(5).step(.01).onChange(M),e.add(m,"widthSegments").min(1).max(5).step(1).onChange(M),e.add(m,"heightSegments").min(1).max(5).step(1).onChange(M),e.add(m,"depthSegments").min(1).max(5).step(1).onChange(M);const t=k.addFolder("positions");t.add(l.position,"y").min(-3).max(3).step(.01),t.add(l.position,"x").min(-3).max(3).step(.01),t.add(l.position,"z").min(-3).max(3).step(.01);k.addFolder("render").add(m.effectController,"exposure",0,1,1e-4).onChange((e=>d.toneMappingExposure=e));const n=k.addFolder("lights");n.add(m.lights,"dirLightOn").onChange((e=>C.visible=e)),n.addColor(m.lights,"dirLightColor").onChange((e=>C.color.set(e))),n.add(m.lights,"dirLightIntensity",0,20,.01).onChange((e=>C.intensity=e)),n.add(m.lights,"hemisphereLightOn").onChange((e=>w.visible=e)),n.add(m.lights,"hemisphereIntensity",0,20,.01).onChange((e=>w.intensity=e)),n.addColor(m.lights,"hemisphereLightColor").onChange((e=>w.color.set(e))),n.addColor(m.lights,"hemisphereGroundColor").onChange((e=>w.groundColor.set(e)));const o=k.addFolder("fog");o.addColor(m.fog,"fogColor").onChange((()=>u.fog=new Me(m.fog.fogColor,m.fog.near,m.fog.far))),o.add(m.fog,"far",0,500,1).onChange((()=>u.fog=new Me(m.fog.fogColor,m.fog.near,m.fog.far))),o.add(m.fog,"near",0,500,1).onChange((()=>u.fog=new Me(m.fog.fogColor,m.fog.near,m.fog.far)))}const A=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),b.aspect=a.offsetWidth/a.offsetHeight,b.updateProjectionMatrix(),d.setSize(a.offsetWidth,a.offsetHeight),z())})),B=new Ve(-1,-1),H=new Ve(-1,-1),R=e=>{H.x=e.clientX-a.getBoundingClientRect().left,H.y=e.clientY-a.getBoundingClientRect().top,n(5,B.x=H.x/a.clientWidth*2-1,B),n(5,B.y=-H.y/a.clientHeight*2+1,B)},j=e=>{e.stopPropagation(),e.preventDefault(),n(3,h=p),console.log(e.button,h),p&&n(0,g="#"+h.material.color.getHexString()),f.classList.remove("nvisible"),n(4,f.style.left=`${H.x}px`,f),n(4,f.style.top=`${H.y}px`,f)},T=e=>{e.stopPropagation(),e.preventDefault(),console.log("Mouse clicked",e.button),e.button-2<0&&(f.classList.contains("nvisible")||f.classList.add("nvisible"))};F((()=>{s.appendChild(k.domElement),d=new _({canvas:a}),console.log(a.offsetLeft,a.offsetTop,a.clientLeft,a.clientTop),d.setPixelRatio(Math.min(window.devicePixelRatio,2)),d.shadowMap.enabled=!0,d.outputEncoding=be,d.toneMapping=ye,d.toneMappingExposure=m.effectController.exposure,A.observe(a),c=new X(b,a),c.enableDamping=!0,c.dampingFactor=.05,c.screenSpacePanning=!1,c.minDistance=2,c.maxDistance=10,c.maxPolarAngle=Math.PI/2-.1,a.addEventListener("mousemove",R),a.addEventListener("contextmenu",j),a.addEventListener("pointerdown",T);const e=()=>{z(),window.requestAnimationFrame(e)};e()}));const z=()=>{var e;c.update(),P.setFromCamera(B,b);const t=P.intersectObjects(l.children);p=null===(e=t[0])||void 0===e?void 0:e.object,d.render(u,b)};return I((()=>{u.clear(),i.dispose(),r.forEach((e=>e.dispose())),k.destroy(),l.clear(),d.dispose(),c.dispose(),d.forceContextLoss(),A.unobserve(a),a.removeEventListener("mousemove",R)})),e.$$.update=()=>{var t;1&e.$$.dirty[0]&&(t=g,h&&h.material.color.setStyle(t))},[g,s,a,h,f,B,function(e){ee[e?"unshift":"push"]((()=>{s=e,n(1,s)}))},function(){g=this.value,n(0,g)},function(e){ee[e?"unshift":"push"]((()=>{f=e,n(4,f)}))},function(e){ee[e?"unshift":"push"]((()=>{a=e,n(2,a)}))}]}class kn extends t{constructor(e){super(),n(this,e,Pn,Mn,o,{},[-1,-1])}}function An(e){let t,n;return{c(){t=x("span"),n=je("Nothing here"),this.h()},l(e){t=a(e,"SPAN",{class:!0});var o=i(t);n=Te(o,"Nothing here"),o.forEach(r),this.h()},h(){l(t,"class","svelte-elei1o")},m(e,o){c(e,t,o),h(t,n)},p:g,d(e){e&&r(t)}}}function Bn(e){let t,n,o,s,d,g,p,f,m,u=e[3].name+"";return{c(){t=x("span"),n=je(u),o=b(),s=x("label"),d=je("Head"),g=b(),p=x("input"),this.h()},l(e){t=a(e,"SPAN",{class:!0});var l=i(t);n=Te(l,u),l.forEach(r),o=y(e),s=a(e,"LABEL",{for:!0,class:!0});var c=i(s);d=Te(c,"Head"),c.forEach(r),g=y(e),p=a(e,"INPUT",{type:!0,id:!0,name:!0}),this.h()},h(){l(t,"class","svelte-elei1o"),l(s,"for","head"),l(s,"class","svelte-elei1o"),l(p,"type","color"),l(p,"id","head"),l(p,"name","head")},m(a,i){c(a,t,i),h(t,n),c(a,o,i),c(a,s,i),h(s,d),c(a,g,i),c(a,p,i),et(p,e[0]),f||(m=R(p,"input",e[8]),f=!0)},p(e,t){8&t[0]&&u!==(u=e[3].name+"")&&We(n,u),1&t[0]&&et(p,e[0])},d(e){e&&r(t),e&&r(o),e&&r(s),e&&r(g),e&&r(p),f=!1,m()}}}function Hn(e){let t,n,o,s,d,p,f,m,u,w,v,C,E,S=e[5].x.toFixed(2)+"",L=e[5].y.toFixed(2)+"";function M(e,t){return e[3]?Bn:An}let P=M(e),k=P(e);return{c(){t=x("div"),n=x("div"),o=x("span"),s=je("ClientX: "),d=je(S),p=b(),f=x("span"),m=je("ClientY: "),u=je(L),w=b(),v=x("div"),k.c(),C=b(),E=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0});var l=i(t);n=a(l,"DIV",{class:!0});var c=i(n);o=a(c,"SPAN",{class:!0});var h=i(o);s=Te(h,"ClientX: "),d=Te(h,S),h.forEach(r),p=y(c),f=a(c,"SPAN",{class:!0});var g=i(f);m=Te(g,"ClientY: "),u=Te(g,L),g.forEach(r),c.forEach(r),l.forEach(r),w=y(e),v=a(e,"DIV",{class:!0});var x=i(v);k.l(x),x.forEach(r),C=y(e),E=a(e,"CANVAS",{class:!0,tabindex:!0}),i(E).forEach(r),this.h()},h(){l(o,"class","svelte-elei1o"),l(f,"class","svelte-elei1o"),l(n,"class","info-mouse svelte-elei1o"),l(t,"class","debug"),l(v,"class","rmenu nvisible svelte-elei1o"),l(E,"class","canvas"),l(E,"tabindex","0")},m(a,i){c(a,t,i),h(t,n),h(n,o),h(o,s),h(o,d),h(n,p),h(n,f),h(f,m),h(f,u),e[7](t),c(a,w,i),c(a,v,i),k.m(v,null),e[9](v),c(a,C,i),c(a,E,i),e[10](E)},p(e,t){32&t[0]&&S!==(S=e[5].x.toFixed(2)+"")&&We(d,S),32&t[0]&&L!==(L=e[5].y.toFixed(2)+"")&&We(u,L),P===(P=M(e))&&k?k.p(e,t):(k.d(1),k=P(e),k&&(k.c(),k.m(v,null)))},i:g,o:g,d(n){n&&r(t),e[7](null),n&&r(w),n&&r(v),k.d(),e[9](null),n&&r(C),n&&r(E),e[10](null)}}}function Rn(e,t,n){let o,s,a,i;$(e,vt,(e=>n(26,o=e))),mt.set("\n# Hover Box with outline\n\nThis example uses same algorithm with \nhttps://threejs.org/examples/webgl_postprocessing_outline.html\n\nFor using black color select __NormalBlending__\n");const r=[];let l,d,c,h,g,p,f,m,u;const w={color:16777215,background:16777215,width:1,height:1,depth:1,widthSegments:1,heightSegments:1,depthSegments:1,effectController:{turbidity:10,rayleigh:3,mieCoefficient:.005,mieDirectionalG:.7,elevation:2,azimuth:180,exposure:.5},lights:{hemisphereLightOn:!0,hemisphereLightColor:16777215,hemisphereGroundColor:16777215,hemisphereIntensity:1,dirLightOn:!0,dirLightColor:16777215,dirLightIntensity:6},fog:{fogColor:14474460,near:1,far:100},outline:{edgeStrength:3,edgeGlow:0,edgeThickness:1,pulsePeriod:0,rotate:!1,usePatternTexture:!0,visibleEdgeColor:"#ffffff",hiddenEdgeColor:"#190a05",blending:"AdditiveBlending"}},v=new Y;v.background=new q(13421772),v.fog=new te(13421772,.002);const C=new ge,x=new Pe(w.lights.hemisphereLightColor,w.lights.hemisphereGroundColor,w.lights.hemisphereIntensity);x.position.set(0,20,0),v.add(x);const b=new ke(x,10);v.add(b);const y=new ae(w.lights.dirLightColor,w.lights.dirLightIntensity);y.position.set(-1,1.75,1),y.position.multiplyScalar(20),v.add(y),y.castShadow=!0,y.shadow.mapSize.width=512,y.shadow.mapSize.height=512,y.shadow.radius=2;const E=new Ae(y,10);v.add(E);const S=new W(75);S.position.z=-5,S.position.y=10,S.position.x=8,v.add(S);const L=new we(1);L.visible=!1,v.add(L);const M=new xe(1e4,1e4),P=new Be({color:16777215});P.color.setHSL(.095,1,.75);const k=new se(M,P);k.position.y=0,k.rotation.x=-Math.PI/2,k.receiveShadow=!0,v.add(k);const A=()=>{l.clear(),i=new re(w.width,w.height,w.depth,w.widthSegments,w.heightSegments,w.depthSegments);for(let e=-5;e<5;e++){r[e]=new Le({color:"#ff0000"});const t=new se(i,r[e]);t.name=`Box ${e}`,t.castShadow=!0,t.position.z-=2*e,t.position.y=w.height/2,l.add(t)}};l=new me,A(),v.add(l);const B=new Oe,H=new V({autoPlace:!1});{H.close(),H.add(L,"visible").name("axes helper visible"),H.addColor(w,"color").onChange((()=>{r.mesh.color.set(w.color)})),H.addColor(w,"background").onChange((()=>{v.background=new q(w.background)}));const e=H.addFolder("dimensions");e.add(w,"height").min(1).max(5).step(.01).onChange(A),e.add(w,"width").min(1).max(5).step(.01).onChange(A),e.add(w,"depth").min(1).max(5).step(.01).onChange(A),e.add(w,"widthSegments").min(1).max(5).step(1).onChange(A),e.add(w,"heightSegments").min(1).max(5).step(1).onChange(A),e.add(w,"depthSegments").min(1).max(5).step(1).onChange(A);const t=H.addFolder("positions");t.add(l.position,"y").min(-3).max(3).step(.01),t.add(l.position,"x").min(-3).max(3).step(.01),t.add(l.position,"z").min(-3).max(3).step(.01);H.addFolder("render").add(w.effectController,"exposure",0,1,1e-4).onChange((e=>d.toneMappingExposure=e));const n=H.addFolder("lights");n.add(w.lights,"dirLightOn").onChange((e=>y.visible=e)),n.addColor(w.lights,"dirLightColor").onChange((e=>y.color.set(e))),n.add(w.lights,"dirLightIntensity",0,20,.01).onChange((e=>y.intensity=e)),n.add(w.lights,"hemisphereLightOn").onChange((e=>x.visible=e)),n.add(w.lights,"hemisphereIntensity",0,20,.01).onChange((e=>x.intensity=e)),n.addColor(w.lights,"hemisphereLightColor").onChange((e=>x.color.set(e))),n.addColor(w.lights,"hemisphereGroundColor").onChange((e=>x.groundColor.set(e)));const o=H.addFolder("fog");o.addColor(w.fog,"fogColor").onChange((()=>v.fog=new Me(w.fog.fogColor,w.fog.near,w.fog.far))),o.add(w.fog,"far",0,500,1).onChange((()=>v.fog=new Me(w.fog.fogColor,w.fog.near,w.fog.far))),o.add(w.fog,"near",0,500,1).onChange((()=>v.fog=new Me(w.fog.fogColor,w.fog.near,w.fog.far))),H.add(w.outline,"edgeStrength",.01,10).onChange((e=>u.edgeStrength=Number(e))),H.add(w.outline,"edgeGlow",0,1).onChange((e=>u.edgeGlow=Number(e))),H.add(w.outline,"edgeThickness",1,4).onChange((e=>u.edgeThickness=Number(e))),H.add(w.outline,"pulsePeriod",0,5).onChange((e=>u.pulsePeriod=Number(e))),H.add(w.outline,"usePatternTexture").onChange((e=>u.usePatternTexture=e)),H.addColor(w.outline,"visibleEdgeColor").onChange((e=>u.visibleEdgeColor.set(e))),H.addColor(w.outline,"hiddenEdgeColor").onChange((e=>u.hiddenEdgeColor.set(e))),H.add(w.outline,"blending",["AdditiveBlending","SubtractiveBlending","NormalBlending","NoBlending"]).onChange((e=>{u.overlayMaterial.blending=qe[e]}))}const R=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),S.aspect=a.offsetWidth/a.offsetHeight,S.updateProjectionMatrix(),d.setSize(a.offsetWidth,a.offsetHeight),m.setSize(a.offsetWidth,a.offsetHeight),U())})),j=new Ve(-1,-1),T=new Ve(-1,-1),z=e=>{T.x=e.clientX-a.getBoundingClientRect().left,T.y=e.clientY-a.getBoundingClientRect().top,n(5,j.x=T.x/a.clientWidth*2-1,j),n(5,j.y=-T.y/a.clientHeight*2+1,j)},D=e=>{e.stopPropagation(),e.preventDefault(),n(3,h=p),console.log(e.button,h),p&&n(0,g="#"+h.material.color.getHexString()),f.classList.remove("nvisible"),n(4,f.style.left=`${T.x}px`,f),n(4,f.style.top=`${T.y}px`,f)},N=e=>{e.stopPropagation(),e.preventDefault(),console.log("Mouse clicked",e.button),e.button-2<0&&(f.classList.contains("nvisible")||f.classList.add("nvisible"))};let O;F((()=>{s.appendChild(H.domElement),d=new _({canvas:a}),d.setPixelRatio(Math.min(window.devicePixelRatio,2)),d.shadowMap.enabled=!0,d.outputEncoding=be,d.toneMapping=ye,d.toneMappingExposure=w.effectController.exposure,R.observe(a),c=new X(S,a),c.enableDamping=!0,c.dampingFactor=.05,c.screenSpacePanning=!1,c.minDistance=2,c.maxDistance=10,c.maxPolarAngle=Math.PI/2-.1,a.addEventListener("pointermove",z),a.addEventListener("contextmenu",D),a.addEventListener("pointerdown",N),m=new tt(d);const e=new nt(v,S);m.addPass(e);const t=a.getBoundingClientRect();u=new ot(new Ve(t.width,t.height),v,S),m.addPass(u),C.load("assets/materials/textures/tri_pattern.jpg",(e=>{u.patternTexture=e,e.wrapS=st,e.wrapT=st,u.usePatternTexture=w.outline.usePatternTexture}));const n=()=>{U(),window.requestAnimationFrame(n)};n()}));const U=()=>{var e;c.update(),B.setFromCamera(j,S);const t=B.intersectObjects(l.children);n(6,p=null===(e=t[0])||void 0===e?void 0:e.object),m.render()};return I((()=>{v.clear(),i.dispose(),r.forEach((e=>e.dispose())),H.destroy(),l.clear(),d.dispose(),u.dispose(),c.dispose(),d.forceContextLoss(),R.unobserve(a),a.removeEventListener("pointermove",z)})),e.$$.update=()=>{var t,n;1&e.$$.dirty[0]&&(t=g,h&&h.material.color.setStyle(t)),64&e.$$.dirty[0]&&(n=p)!=O&&(O=n,console.log("runn"),u.selectedObjects=O?[O]:[])},[g,s,a,h,f,j,p,function(e){ee[e?"unshift":"push"]((()=>{s=e,n(1,s)}))},function(){g=this.value,n(0,g)},function(e){ee[e?"unshift":"push"]((()=>{f=e,n(4,f)}))},function(e){ee[e?"unshift":"push"]((()=>{a=e,n(2,a)}))}]}class jn extends t{constructor(e){super(),n(this,e,Rn,Hn,o,{},[-1,-1])}}function Tn(e){const t=this._visibilityCache,n=[];function o(e){e.isMesh&&n.push(e)}for(let s=0;s<this.selectedObjects.length;s++){this.selectedObjects[s].traverse(o)}this.renderScene.traverse((function(o){if(o.isMesh||o.isSprite||o.isTransformControl){let s=!1;for(let e=0;e<n.length;e++){if(n[e].id===o.id){s=!0;break}}if(!1===s){const n=o.visible;!1!==e&&!0!==t.get(o)||(o.visible=e),t.set(o,n)}}else(o.isPoints||o.isLine)&&(!0===e?o.visible=t.get(o):(t.set(o,o.visible),o.visible=e))}))}function zn(e){let t,n;return{c(){t=x("span"),n=je("Nothing here"),this.h()},l(e){t=a(e,"SPAN",{class:!0});var o=i(t);n=Te(o,"Nothing here"),o.forEach(r),this.h()},h(){l(t,"class","svelte-7ik99c")},m(e,o){c(e,t,o),h(t,n)},p:g,d(e){e&&r(t)}}}function Fn(e){let t,n,o,s,d,g,p,f,m,u=e[3].name+"";return{c(){t=x("span"),n=je(u),o=b(),s=x("label"),d=je("Head"),g=b(),p=x("input"),this.h()},l(e){t=a(e,"SPAN",{class:!0});var l=i(t);n=Te(l,u),l.forEach(r),o=y(e),s=a(e,"LABEL",{for:!0,class:!0});var c=i(s);d=Te(c,"Head"),c.forEach(r),g=y(e),p=a(e,"INPUT",{type:!0,id:!0,name:!0}),this.h()},h(){l(t,"class","svelte-7ik99c"),l(s,"for","head"),l(s,"class","svelte-7ik99c"),l(p,"type","color"),l(p,"id","head"),l(p,"name","head")},m(a,i){c(a,t,i),h(t,n),c(a,o,i),c(a,s,i),h(s,d),c(a,g,i),c(a,p,i),et(p,e[0]),f||(m=R(p,"input",e[8]),f=!0)},p(e,t){8&t[0]&&u!==(u=e[3].name+"")&&We(n,u),1&t[0]&&et(p,e[0])},d(e){e&&r(t),e&&r(o),e&&r(s),e&&r(g),e&&r(p),f=!1,m()}}}function In(e){let t,n,o,s,d,p,f,m,u,w,v,C,E,S,L=e[5].x.toFixed(2)+"",M=e[5].y.toFixed(2)+"";function P(e,t){return e[3]?Fn:zn}let k=P(e),A=k(e);return{c(){t=x("div"),n=x("div"),o=x("span"),s=je("ClientX: "),d=je(L),p=b(),f=x("span"),m=je("ClientY: "),u=je(M),w=b(),v=x("div"),C=x("div"),A.c(),E=b(),S=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0});var l=i(t);n=a(l,"DIV",{class:!0});var c=i(n);o=a(c,"SPAN",{class:!0});var h=i(o);s=Te(h,"ClientX: "),d=Te(h,L),h.forEach(r),p=y(c),f=a(c,"SPAN",{class:!0});var g=i(f);m=Te(g,"ClientY: "),u=Te(g,M),g.forEach(r),c.forEach(r),l.forEach(r),w=y(e),v=a(e,"DIV",{class:!0});var x=i(v);C=a(x,"DIV",{class:!0});var b=i(C);A.l(b),b.forEach(r),x.forEach(r),E=y(e),S=a(e,"CANVAS",{class:!0,tabindex:!0}),i(S).forEach(r),this.h()},h(){l(o,"class","svelte-7ik99c"),l(f,"class","svelte-7ik99c"),l(n,"class","info-mouse svelte-7ik99c"),l(t,"class","debug"),l(C,"class","rmenu nvisible svelte-7ik99c"),l(v,"class","wrapper svelte-7ik99c"),l(S,"class","canvas"),l(S,"tabindex","0")},m(a,i){c(a,t,i),h(t,n),h(n,o),h(o,s),h(o,d),h(n,p),h(n,f),h(f,m),h(f,u),e[7](t),c(a,w,i),c(a,v,i),h(v,C),A.m(C,null),e[9](C),c(a,E,i),c(a,S,i),e[10](S)},p(e,t){32&t[0]&&L!==(L=e[5].x.toFixed(2)+"")&&We(d,L),32&t[0]&&M!==(M=e[5].y.toFixed(2)+"")&&We(u,M),k===(k=P(e))&&A?A.p(e,t):(A.d(1),A=k(e),A&&(A.c(),A.m(C,null)))},i:g,o:g,d(n){n&&r(t),e[7](null),n&&r(w),n&&r(v),A.d(),e[9](null),n&&r(E),n&&r(S),e[10](null)}}}function Dn(e,t,n){let o,s,a,i;$(e,vt,(e=>n(29,o=e))),mt.set('\n# Move Box\n\nRight Click Menu position fixed\n\n```js\n// Check Menu size\nlet checkH = (canvas.getBoundingClientRect().height - mouseR.y) - rMenu.getBoundingClientRect().height;\ncheckH = checkH >= 0 ? 0 : checkH;\nlet checkW = (canvas.getBoundingClientRect().width - mouseR.x) - rMenu.getBoundingClientRect().width;\ncheckW = checkW >= 0 ? 0 : checkW;\nrMenu.style.left = `${mouseR.x + checkW}px`;\nrMenu.style.top = `${mouseR.y + checkH}px`;\nrMenu.classList.remove("nvisible");\n```\n\nAlso added to wrapper to overflow hidden\n\n```scss\n.wrapper {\n  height: 100%;\n  overflow: auto;\n  position: relative;\n  width: 100%;\n}\n```\n\nMove codes inspired from this example\nhttps://github.com/mrdoob/three.js/blob/master/examples/webgl_geometry_spline_editor.html\n\nMocked transform for outlinePass\n');const r=[];let l,d,c,h,g,p,f,m,u,w;const v={color:16777215,background:16777215,width:1,height:1,depth:1,widthSegments:1,heightSegments:1,depthSegments:1,effectController:{turbidity:10,rayleigh:3,mieCoefficient:.005,mieDirectionalG:.7,elevation:2,azimuth:180,exposure:.5},lights:{hemisphereLightOn:!0,hemisphereLightColor:16777215,hemisphereGroundColor:16777215,hemisphereIntensity:1,dirLightOn:!0,dirLightColor:16777215,dirLightIntensity:6},fog:{fogColor:14474460,near:1,far:100},outline:{edgeStrength:3,edgeGlow:0,edgeThickness:1,pulsePeriod:0,rotate:!1,usePatternTexture:!0,visibleEdgeColor:"#ffffff",hiddenEdgeColor:"#190a05",blending:"AdditiveBlending"}},C=new Y;C.background=new q(13421772),C.fog=new te(13421772,.002);const x=new ge,b=new Pe(v.lights.hemisphereLightColor,v.lights.hemisphereGroundColor,v.lights.hemisphereIntensity);b.position.set(0,20,0),C.add(b);const y=new ke(b,10);C.add(y);const E=new ae(v.lights.dirLightColor,v.lights.dirLightIntensity);E.position.set(-1,1.75,1),E.position.multiplyScalar(20),C.add(E),E.castShadow=!0;const S=new Ae(E,10);C.add(S);const L=new W(75);L.position.z=1,L.position.y=1.5,L.position.x=2,C.add(L);const M=new we(1);M.visible=!1,C.add(M);const P=new xe(1e4,1e4),k=new Be({color:16777215});k.color.setHSL(.095,1,.75);const A=new se(P,k);A.position.y=0,A.rotation.x=-Math.PI/2,A.receiveShadow=!0,C.add(A);const B=()=>{l.clear(),i=new re(v.width,v.height,v.depth,v.widthSegments,v.heightSegments,v.depthSegments);for(let e=0;e<1;e++){r[e]=new oe({color:"#ff0000"});const t=new se(i,r[e]);t.name=`Box ${e}`,t.castShadow=!0,t.position.z-=2*e,t.position.y=v.height/2,l.add(t)}};l=new me,B(),C.add(l);const H=new Oe,R=new V({autoPlace:!1});{R.close(),R.add(M,"visible").name("axes helper visible"),R.addColor(v,"color").onChange((()=>{r.mesh.color.set(v.color)})),R.addColor(v,"background").onChange((()=>{C.background=new q(v.background)}));const e=R.addFolder("dimensions");e.add(v,"height").min(1).max(5).step(.01).onChange(B),e.add(v,"width").min(1).max(5).step(.01).onChange(B),e.add(v,"depth").min(1).max(5).step(.01).onChange(B),e.add(v,"widthSegments").min(1).max(5).step(1).onChange(B),e.add(v,"heightSegments").min(1).max(5).step(1).onChange(B),e.add(v,"depthSegments").min(1).max(5).step(1).onChange(B);const t=R.addFolder("positions");t.add(l.position,"y").min(-3).max(3).step(.01),t.add(l.position,"x").min(-3).max(3).step(.01),t.add(l.position,"z").min(-3).max(3).step(.01);R.addFolder("render").add(v.effectController,"exposure",0,1,1e-4).onChange((e=>d.toneMappingExposure=e));const n=R.addFolder("lights");n.add(v.lights,"dirLightOn").onChange((e=>E.visible=e)),n.addColor(v.lights,"dirLightColor").onChange((e=>E.color.set(e))),n.add(v.lights,"dirLightIntensity",0,20,.01).onChange((e=>E.intensity=e)),n.add(v.lights,"hemisphereLightOn").onChange((e=>b.visible=e)),n.add(v.lights,"hemisphereIntensity",0,20,.01).onChange((e=>b.intensity=e)),n.addColor(v.lights,"hemisphereLightColor").onChange((e=>b.color.set(e))),n.addColor(v.lights,"hemisphereGroundColor").onChange((e=>b.groundColor.set(e)));const o=R.addFolder("fog");o.addColor(v.fog,"fogColor").onChange((()=>C.fog=new Me(v.fog.fogColor,v.fog.near,v.fog.far))),o.add(v.fog,"far",0,500,1).onChange((()=>C.fog=new Me(v.fog.fogColor,v.fog.near,v.fog.far))),o.add(v.fog,"near",0,500,1).onChange((()=>C.fog=new Me(v.fog.fogColor,v.fog.near,v.fog.far))),R.add(v.outline,"edgeStrength",.01,10).onChange((e=>u.edgeStrength=Number(e))),R.add(v.outline,"edgeGlow",0,1).onChange((e=>u.edgeGlow=Number(e))),R.add(v.outline,"edgeThickness",1,4).onChange((e=>u.edgeThickness=Number(e))),R.add(v.outline,"pulsePeriod",0,5).onChange((e=>u.pulsePeriod=Number(e))),R.add(v.outline,"usePatternTexture").onChange((e=>u.usePatternTexture=e)),R.addColor(v.outline,"visibleEdgeColor").onChange((e=>u.visibleEdgeColor.set(e))),R.addColor(v.outline,"hiddenEdgeColor").onChange((e=>u.hiddenEdgeColor.set(e))),R.add(v.outline,"blending",["AdditiveBlending","SubtractiveBlending","NormalBlending","NoBlending"]).onChange((e=>{u.overlayMaterial.blending=qe[e]}))}const j=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),L.aspect=a.offsetWidth/a.offsetHeight,L.updateProjectionMatrix(),d.setSize(a.offsetWidth,a.offsetHeight),m.setSize(a.offsetWidth,a.offsetHeight),Q())})),T=new Ve(-1,-1),z=new Ve(-1,-1),D=e=>{z.x=e.clientX-a.getBoundingClientRect().left,z.y=e.clientY-a.getBoundingClientRect().top,n(5,T.x=z.x/a.clientWidth*2-1,T),n(5,T.y=-z.y/a.clientHeight*2+1,T)},N=e=>{e.stopPropagation(),e.preventDefault(),n(3,h=p),p&&n(0,g="#"+h.material.color.getHexString());let t=a.getBoundingClientRect().height-z.y-f.getBoundingClientRect().height;t=t>=0?0:t;let o=a.getBoundingClientRect().width-z.x-f.getBoundingClientRect().width;o=o>=0?0:o,n(4,f.style.left=`${z.x+o}px`,f),n(4,f.style.top=`${z.y+t}px`,f),f.classList.remove("nvisible")},O=new Ve,U=new Ve,Z=e=>{const t=p;O.x=e.clientX,O.y=e.clientY,e.button-2<0&&(f.classList.contains("nvisible")||f.classList.add("nvisible")),0==e.button&&t&&t!==w.object&&w.attach(t)},K=e=>{U.x=e.clientX,U.y=e.clientY,0!==O.distanceTo(U)||p||w.detach()};let J;F((()=>{s.appendChild(R.domElement),d=new _({canvas:a}),d.setPixelRatio(Math.min(window.devicePixelRatio,2)),d.shadowMap.enabled=!0,d.outputEncoding=be,d.toneMapping=ye,d.toneMappingExposure=v.effectController.exposure,j.observe(a),c=new X(L,a),c.enableDamping=!0,c.dampingFactor=.05,c.screenSpacePanning=!1,c.minDistance=2,c.maxDistance=10,c.maxPolarAngle=Math.PI/2-.1,w=new Ke(L,d.domElement),w.addEventListener("dragging-changed",(e=>{c.enabled=!e.value})),w.traverse((e=>{e.isTransformControl=!0})),C.add(w),a.addEventListener("pointermove",D),a.addEventListener("contextmenu",N),a.addEventListener("pointerdown",Z),a.addEventListener("pointerup",K),m=new tt(d);const e=new nt(C,L);m.addPass(e);const t=a.getBoundingClientRect();u=new ot(new Ve(t.width,t.height),C,L),u.changeVisibilityOfNonSelectedObjects=Tn,m.addPass(u),x.load("assets/materials/textures/tri_pattern.jpg",(e=>{u.patternTexture=e,e.wrapS=st,e.wrapT=st,u.usePatternTexture=v.outline.usePatternTexture}));const n=()=>{Q(),window.requestAnimationFrame(n)};n()}));const Q=()=>{var e;c.update(),H.setFromCamera(T,L);const t=H.intersectObjects(l.children);n(6,p=null===(e=t[0])||void 0===e?void 0:e.object),m.render()};return I((()=>{C.clear(),i.dispose(),r.forEach((e=>e.dispose())),R.destroy(),l.clear(),d.dispose(),u.dispose(),c.dispose(),w.dispose(),d.forceContextLoss(),j.unobserve(a),a.removeEventListener("pointermove",D)})),e.$$.update=()=>{var t,n;1&e.$$.dirty[0]&&(t=g,h&&h.material.color.setStyle(t)),64&e.$$.dirty[0]&&(n=p)!=J&&(J=n,u.selectedObjects=J?[J]:[])},[g,s,a,h,f,T,p,function(e){ee[e?"unshift":"push"]((()=>{s=e,n(1,s)}))},function(){g=this.value,n(0,g)},function(e){ee[e?"unshift":"push"]((()=>{f=e,n(4,f)}))},function(e){ee[e?"unshift":"push"]((()=>{a=e,n(2,a)}))}]}class Nn extends t{constructor(e){super(),n(this,e,Dn,In,o,{},[-1,-1])}}function $n(e){let t,n;return{c(){t=x("span"),n=je("Nothing here"),this.h()},l(e){t=a(e,"SPAN",{class:!0});var o=i(t);n=Te(o,"Nothing here"),o.forEach(r),this.h()},h(){l(t,"class","svelte-7ik99c")},m(e,o){c(e,t,o),h(t,n)},p:g,d(e){e&&r(t)}}}function On(e){let t,n,o,s,d,g,p,f,m,u=e[3].name+"";return{c(){t=x("span"),n=je(u),o=b(),s=x("label"),d=je("Head"),g=b(),p=x("input"),this.h()},l(e){t=a(e,"SPAN",{class:!0});var l=i(t);n=Te(l,u),l.forEach(r),o=y(e),s=a(e,"LABEL",{for:!0,class:!0});var c=i(s);d=Te(c,"Head"),c.forEach(r),g=y(e),p=a(e,"INPUT",{type:!0,id:!0,name:!0}),this.h()},h(){l(t,"class","svelte-7ik99c"),l(s,"for","head"),l(s,"class","svelte-7ik99c"),l(p,"type","color"),l(p,"id","head"),l(p,"name","head")},m(a,i){c(a,t,i),h(t,n),c(a,o,i),c(a,s,i),h(s,d),c(a,g,i),c(a,p,i),et(p,e[0]),f||(m=R(p,"input",e[7]),f=!0)},p(e,t){8&t[0]&&u!==(u=e[3].name+"")&&We(n,u),1&t[0]&&et(p,e[0])},d(e){e&&r(t),e&&r(o),e&&r(s),e&&r(g),e&&r(p),f=!1,m()}}}function Vn(e){let t,n,o,s,d,p,f,m,u,w,v,C,E,S,L=e[5].x.toFixed(2)+"",M=e[5].y.toFixed(2)+"";function P(e,t){return e[3]?On:$n}let k=P(e),A=k(e);return{c(){t=x("div"),n=x("div"),o=x("span"),s=je("ClientX: "),d=je(L),p=b(),f=x("span"),m=je("ClientY: "),u=je(M),w=b(),v=x("div"),C=x("div"),A.c(),E=b(),S=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0});var l=i(t);n=a(l,"DIV",{class:!0});var c=i(n);o=a(c,"SPAN",{class:!0});var h=i(o);s=Te(h,"ClientX: "),d=Te(h,L),h.forEach(r),p=y(c),f=a(c,"SPAN",{class:!0});var g=i(f);m=Te(g,"ClientY: "),u=Te(g,M),g.forEach(r),c.forEach(r),l.forEach(r),w=y(e),v=a(e,"DIV",{class:!0});var x=i(v);C=a(x,"DIV",{class:!0});var b=i(C);A.l(b),b.forEach(r),x.forEach(r),E=y(e),S=a(e,"CANVAS",{class:!0,tabindex:!0}),i(S).forEach(r),this.h()},h(){l(o,"class","svelte-7ik99c"),l(f,"class","svelte-7ik99c"),l(n,"class","info-mouse svelte-7ik99c"),l(t,"class","debug"),l(C,"class","rmenu nvisible svelte-7ik99c"),l(v,"class","wrapper svelte-7ik99c"),l(S,"class","canvas"),l(S,"tabindex","0")},m(a,i){c(a,t,i),h(t,n),h(n,o),h(o,s),h(o,d),h(n,p),h(n,f),h(f,m),h(f,u),e[6](t),c(a,w,i),c(a,v,i),h(v,C),A.m(C,null),e[8](C),c(a,E,i),c(a,S,i),e[9](S)},p(e,t){32&t[0]&&L!==(L=e[5].x.toFixed(2)+"")&&We(d,L),32&t[0]&&M!==(M=e[5].y.toFixed(2)+"")&&We(u,M),k===(k=P(e))&&A?A.p(e,t):(A.d(1),A=k(e),A&&(A.c(),A.m(C,null)))},i:g,o:g,d(n){n&&r(t),e[6](null),n&&r(w),n&&r(v),A.d(),e[8](null),n&&r(E),n&&r(S),e[9](null)}}}function Gn(e,t,n){let o,s;mt.set("\n# Cable Pole\n\nExported just with normals and skinned in animation tab also compressions.\n");const a=new me;let i,r,l,d,c,h,g;const p=new Map,f={color:16777215,background:16777215,effectController:{exposure:.5},fog:{fogColor:14474460,near:1,far:100}},m=new Y;m.background=new q(13421772),m.fog=new te(13421772,.002);const u=new _e;u.setDecoderPath("./assets/lib/draco/");const w=new Xe;w.setDRACOLoader(u);const v=new W(75);v.position.z=1,v.position.y=1.5,v.position.x=2,v.position.multiplyScalar(5),m.add(v);const C=(new ge).load("assets/materials/matcaps/3E3E3E_AEAEAE_848484_777777-64px.png");p.set("matcap",new pe({matcap:C})),p.set("basic",new le({color:16777215}));const x=new xe(1e4,1e4),b=new se(x,p.get("basic"));b.position.y=0,b.rotation.x=-Math.PI/2,b.receiveShadow=!0,m.add(b);w.load("./assets/3d/boneBox.glb",(e=>{const t=e.scene;t.traverse((e=>{(e.isMesh||e.isSkinnedMesh)&&(e.material=new pe({matcap:C})),e.frustumCulled=!1})),t.position.setY(4),a.add(t),m.add(a);const n=new Qe(t);n.visible=!0,a.add(n)}));const y=new Oe,E=new V({autoPlace:!1});{E.close(),E.addColor(f,"background").onChange((()=>{m.background=new q(f.background)}));E.addFolder("render").add(f.effectController,"exposure",0,1,1e-4).onChange((e=>i.toneMappingExposure=e));const e=E.addFolder("fog");e.addColor(f.fog,"fogColor").onChange((()=>m.fog=new Me(f.fog.fogColor,f.fog.near,f.fog.far))),e.add(f.fog,"far",0,500,1).onChange((()=>m.fog=new Me(f.fog.fogColor,f.fog.near,f.fog.far))),e.add(f.fog,"near",0,500,1).onChange((()=>m.fog=new Me(f.fog.fogColor,f.fog.near,f.fog.far)))}const S=new G((e=>{for(const t of e)t.contentBoxSize&&(v.aspect=s.offsetWidth/s.offsetHeight,v.updateProjectionMatrix(),i.setSize(s.offsetWidth,s.offsetHeight))})),L=new Ve(-1,-1),M=new Ve(-1,-1),P=e=>{M.x=e.clientX-s.getBoundingClientRect().left,M.y=e.clientY-s.getBoundingClientRect().top,n(5,L.x=M.x/s.clientWidth*2-1,L),n(5,L.y=-M.y/s.clientHeight*2+1,L)},k=e=>{e.stopPropagation(),e.preventDefault(),n(3,l=c),c&&n(0,d="#"+l.material.color.getHexString());let t=s.getBoundingClientRect().height-M.y-h.getBoundingClientRect().height;t=t>=0?0:t;let o=s.getBoundingClientRect().width-M.x-h.getBoundingClientRect().width;o=o>=0?0:o,n(4,h.style.left=`${M.x+o}px`,h),n(4,h.style.top=`${M.y+t}px`,h),h.classList.remove("nvisible")},A=new Ve,B=new Ve,H=e=>{const t=c;A.x=e.clientX,A.y=e.clientY,e.button-2<0&&(h.classList.contains("nvisible")||h.classList.add("nvisible")),0==e.button&&t&&t!==g.object&&g.attach(t)},R=e=>{B.x=e.clientX,B.y=e.clientY,0!==A.distanceTo(B)||c||g.detach()};return F((()=>{o.appendChild(E.domElement),i=new _({canvas:s}),i.setPixelRatio(Math.min(window.devicePixelRatio,2)),S.observe(s),r=new X(v,s),r.enableDamping=!0,r.dampingFactor=.05,r.screenSpacePanning=!1,r.maxPolarAngle=Math.PI/2-.1,g=new Ke(v,i.domElement),g.addEventListener("dragging-changed",(e=>{r.enabled=!e.value})),m.add(g),s.addEventListener("pointermove",P),s.addEventListener("contextmenu",k),s.addEventListener("pointerdown",H),s.addEventListener("pointerup",R);const e=new Ge;i.setAnimationLoop((()=>{var t,n;r.update(),y.setFromCamera(L,v);const o=y.intersectObjects(a.children,!0);c=null===(t=o[0])||void 0===t?void 0:t.object.parent,null===(n=a.getObjectByName("BoneBox"))||void 0===n||n.position.setY(2*Math.sin(e.getElapsedTime())+5),i.render(m,v)}))})),I((()=>{m.clear(),p.forEach((e=>e.dispose())),E.destroy(),a.clear(),i.dispose(),r.dispose(),g.dispose(),i.forceContextLoss(),S.unobserve(s),s.removeEventListener("pointermove",P)})),e.$$.update=()=>{var t;1&e.$$.dirty[0]&&(t=d,l&&l.material.color.setStyle(t))},[d,o,s,l,h,L,function(e){ee[e?"unshift":"push"]((()=>{o=e,n(1,o)}))},function(){d=this.value,n(0,d)},function(e){ee[e?"unshift":"push"]((()=>{h=e,n(4,h)}))},function(e){ee[e?"unshift":"push"]((()=>{s=e,n(2,s)}))}]}class Yn extends t{constructor(e){super(),n(this,e,Gn,Vn,o,{},[-1,-1])}}function Wn(e){let t,n,o;return{c(){t=x("div"),n=b(),o=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0}),i(t).forEach(r),n=y(e),o=a(e,"CANVAS",{class:!0,tabindex:!0}),i(o).forEach(r),this.h()},h(){l(t,"class","debug"),l(o,"class","canvas"),l(o,"tabindex","0")},m(s,a){c(s,t,a),e[2](t),c(s,n,a),c(s,o,a),e[3](o)},p:g,i:g,o:g,d(s){s&&r(t),e[2](null),s&&r(n),s&&r(o),e[3](null)}}}function _n(e,t,n){let o,s,a;$(e,vt,(e=>n(10,o=e))),mt.set('\n# Box with renderer change\n\nDeleted request frame function and just recalculating render with controls change.\n\n```js\ncontrols.addEventListener("change", ()=>render());\n```\n\n');let i,r,l,d=null,c=null;const h=new Y,g=new W(75),p=new V({autoPlace:!1}),f=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),g.aspect=a.offsetWidth/a.offsetHeight,g.updateProjectionMatrix(),r.setSize(a.offsetWidth,a.offsetHeight),m())}));F((()=>{s.appendChild(p.domElement),r=new _({canvas:a}),d=new re(1,1,1),c=new le({color:16711680}),i=new se(d,c),h.add(i),g.position.z=3,h.add(g),r.setPixelRatio(Math.min(window.devicePixelRatio,2)),f.observe(a),l=new X(g,a),l.addEventListener("change",(()=>m()))}));const m=()=>{r.render(h,g)};return I((()=>{h.clear(),d.dispose(),c.dispose(),p.destroy(),r.dispose(),l.dispose(),r.forceContextLoss(),f.unobserve(a)})),[s,a,function(e){ee[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},function(e){ee[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class Xn extends t{constructor(e){super(),n(this,e,_n,Wn,o,{})}}function Un(e){let t,n,o;return{c(){t=x("div"),n=b(),o=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0}),i(t).forEach(r),n=y(e),o=a(e,"CANVAS",{class:!0,tabindex:!0}),i(o).forEach(r),this.h()},h(){l(t,"class","debug"),l(o,"class","canvas"),l(o,"tabindex","0")},m(s,a){c(s,t,a),e[2](t),c(s,n,a),c(s,o,a),e[3](o)},p:g,i:g,o:g,d(s){s&&r(t),e[2](null),s&&r(n),s&&r(o),e[3](null)}}}function qn(e,t,n){let o,s,a;$(e,vt,(e=>n(13,o=e))),mt.set("\n# Line and Angle\n\n");const i=new Map,r=new Map;let l,d;const c=new Y;c.background=new q(13421772);const h=new W(75),g=(new ge).load("assets/materials/matcaps/3E3E3E_AEAEAE_848484_777777-64px.png");let p,f,m,u,w;const v=new V({autoPlace:!1}),C=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),h.aspect=a.offsetWidth/a.offsetHeight,h.updateProjectionMatrix(),l.setSize(a.offsetWidth,a.offsetHeight),b())}));F((()=>{s.appendChild(v.domElement),l=new _({canvas:a}),l.setPixelRatio(Math.min(window.devicePixelRatio,2)),r.set("line",new fe({color:0,linewidth:4}));const e=[new Se(0,50,0),new Se(0,0,0)];i.set("cable",(new U).setFromPoints(e));const t=new at(i.get("cable"),r.get("line"));t.position.setX(-20),c.add(t),i.set("box",new re(10,10,10)),r.set("basic",new pe({matcap:g,side:Re})),p=new se(i.get("box"),r.get("basic")),p.position.setY(-5),p.position.setX(-20),c.add(p);{const e=((e,t)=>{const n=[];let o=new pt;n.push(o),o.position.y=-e/2;for(let s=0;s<t;s++){const t=new pt;t.position.y=e,n.push(t),o.add(t),o=t}return n})(50,1);i.set("cable2",new ne(2,2,50,6,2,!0));const t=i.get("cable2").attributes.position,n=new Se,o=[],s=[];for(let i=0;i<t.count;i++){n.fromBufferAttribute(t,i);const e=n.y+25,a=Math.floor(e/50),r=e%50/50;o.push(a,a+1,0,0),s.push(1-r,r,0,0)}i.get("cable2").setAttribute("skinIndex",new it(o,4)),i.get("cable2").setAttribute("skinWeight",new rt(s,4));const a=new lt(i.get("cable2"),r.get("basic"));w=new dt(e);const l=w.bones[0];a.add(l),a.bind(w),l.rotateX(Ee.degToRad(180)),l.position.setY(50),a.position.setX(20),c.add(a),u=new Qe(a),u.material.linewidth=2,c.add(u)}f=new se(i.get("box"),r.get("basic")),f.position.setY(-5),f.position.setX(20),c.add(f),i.set("edge",new re(100,100,100,4,4,4));const n=new ct(i.get("edge")),o=new ue(n,new fe({color:16777215}));c.add(o),r.set("shader",new ht({vertexShader:"varying vec2 vUv;\n\nvoid main() {\n  vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n\n  vec4 viewPosition = viewMatrix * modelPosition;\n  vec4 projectedPosition = projectionMatrix * viewPosition;\n\n  gl_Position = projectedPosition;\n\n  vUv = uv;\n}\n",fragmentShader:"varying vec2 vUv;\n\nvoid main() {\n  // float strength = vUv.y;\n  float strength = mod(vUv.y * 10.0, 1.0);\n  strength = step(0.5, strength);\n  gl_FragColor = vec4(vec3(strength), 1.0);\n}\n",side:gt})),i.set("tube",new ne(6,6,100,6,6,!0)),m=new se(i.get("tube"),r.get("shader")),m.rotateZ(Ee.degToRad(90)),m.position.setY(50),c.add(m),h.position.z=80,h.position.x=30,h.position.y=55,c.add(h),C.observe(a),d=new X(h,a),l.setAnimationLoop(b)}));const x=new Ge,b=()=>{const e=x.getElapsedTime(),t=20*Math.sin(e);p.position.setY(t),f.position.setY(t),(e=>{i.get("cable").attributes.position.setY(1,e),i.get("cable").attributes.position.needsUpdate=!0,w.bones[1].position.setY(50-e)})(t),l.render(c,h)};return I((()=>{c.clear(),i.forEach((e=>e.dispose())),r.forEach((e=>e.dispose())),v.destroy(),l.dispose(),d.dispose(),l.forceContextLoss(),C.unobserve(a)})),[s,a,function(e){ee[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},function(e){ee[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class Zn extends t{constructor(e){super(),n(this,e,qn,Un,o,{})}}function Kn(e){let t,n,o;return{c(){t=x("div"),n=b(),o=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0}),i(t).forEach(r),n=y(e),o=a(e,"CANVAS",{class:!0,tabindex:!0}),i(o).forEach(r),this.h()},h(){l(t,"class","debug"),l(o,"class","canvas"),l(o,"tabindex","0")},m(s,a){c(s,t,a),e[2](t),c(s,n,a),c(s,o,a),e[3](o)},p:g,i:g,o:g,d(s){s&&r(t),e[2](null),s&&r(n),s&&r(o),e[3](null)}}}function Jn(e,t,n){let o,s,a;$(e,vt,(e=>n(11,o=e))),mt.set("\n# Bone\n\nBone example from https://threejs.org/docs/scenes/bones-browser.html\n\nThis is usable in cable systems.\n\n");const i=new Map,r=new Map;let l,d;const c=new Y;c.background=new q(13421772);const h=new W(75),g=new V({autoPlace:!1}),p=new G((e=>{for(const t of e)t.contentBoxSize&&(o.resize&&console.log("resize"),h.aspect=a.offsetWidth/a.offsetHeight,h.updateProjectionMatrix(),l.setSize(a.offsetWidth,a.offsetHeight),m())}));F((()=>{s.appendChild(g.domElement),l=new _({canvas:a}),l.setPixelRatio(Math.min(window.devicePixelRatio,2)),C(),h.position.z=50,h.position.x=0,h.position.y=0,c.add(h),p.observe(a),d=new X(h,a),l.setAnimationLoop(m)}));const f=new Ge,m=()=>{const e=f.getElapsedTime(),t=20*Math.sin(e);u.skeleton.bones[1].position.setY(t),l.render(c,h)};let u,w,v;const C=()=>{const e={segmentHeight:80,segmentCount:1,height:80,halfHeight:40},t=(e=>{const t=new ne(5,5,e.height,6,3*e.segmentCount,!0),n=t.attributes.position,o=new Se,s=[],a=[];for(let i=0;i<n.count;i++){o.fromBufferAttribute(n,i);const t=o.y+e.halfHeight,r=Math.floor(t/e.segmentHeight),l=t%e.segmentHeight/e.segmentHeight;s.push(r,r+1,0,0),a.push(1-l,l,0,0)}return t.setAttribute("skinIndex",new it(s,4)),t.setAttribute("skinWeight",new rt(a,4)),t})(e),n=(e=>{w=[];let t=new pt;w.push(t),t.position.y=-e.halfHeight;for(let n=0;n<e.segmentCount;n++){const n=new pt;n.position.y=e.segmentHeight,w.push(n),t.add(n),t=n}return w})(e);u=((e,t)=>{const n=new le({color:1401481,side:Re}),o=new lt(e,n),s=new dt(t);return o.add(t[0]),o.bind(s),v=new Qe(o),v.material.linewidth=2,c.add(v),o})(t,n),u.scale.multiplyScalar(1),u.position.setY(e.halfHeight),c.add(u)};return I((()=>{c.clear(),i.forEach((e=>e.dispose())),r.forEach((e=>e.dispose())),g.destroy(),l.dispose(),d.dispose(),l.forceContextLoss(),p.unobserve(a)})),[s,a,function(e){ee[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},function(e){ee[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class Qn extends t{constructor(e){super(),n(this,e,Jn,Kn,o,{})}}function eo(e){let t,n;return{c(){t=x("span"),n=je("Nothing here"),this.h()},l(e){t=a(e,"SPAN",{class:!0});var o=i(t);n=Te(o,"Nothing here"),o.forEach(r),this.h()},h(){l(t,"class","svelte-7ik99c")},m(e,o){c(e,t,o),h(t,n)},p:g,d(e){e&&r(t)}}}function to(e){let t,n,o,s,d,g,p,f,m,u=e[3].name+"";return{c(){t=x("span"),n=je(u),o=b(),s=x("label"),d=je("Head"),g=b(),p=x("input"),this.h()},l(e){t=a(e,"SPAN",{class:!0});var l=i(t);n=Te(l,u),l.forEach(r),o=y(e),s=a(e,"LABEL",{for:!0,class:!0});var c=i(s);d=Te(c,"Head"),c.forEach(r),g=y(e),p=a(e,"INPUT",{type:!0,id:!0,name:!0}),this.h()},h(){l(t,"class","svelte-7ik99c"),l(s,"for","head"),l(s,"class","svelte-7ik99c"),l(p,"type","color"),l(p,"id","head"),l(p,"name","head")},m(a,i){c(a,t,i),h(t,n),c(a,o,i),c(a,s,i),h(s,d),c(a,g,i),c(a,p,i),et(p,e[0]),f||(m=R(p,"input",e[7]),f=!0)},p(e,t){8&t[0]&&u!==(u=e[3].name+"")&&We(n,u),1&t[0]&&et(p,e[0])},d(e){e&&r(t),e&&r(o),e&&r(s),e&&r(g),e&&r(p),f=!1,m()}}}function no(e){let t,n,o,s,d,p,f,m,u,w,v,C,E,S,L=e[5].x.toFixed(2)+"",M=e[5].y.toFixed(2)+"";function P(e,t){return e[3]?to:eo}let k=P(e),A=k(e);return{c(){t=x("div"),n=x("div"),o=x("span"),s=je("ClientX: "),d=je(L),p=b(),f=x("span"),m=je("ClientY: "),u=je(M),w=b(),v=x("div"),C=x("div"),A.c(),E=b(),S=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0});var l=i(t);n=a(l,"DIV",{class:!0});var c=i(n);o=a(c,"SPAN",{class:!0});var h=i(o);s=Te(h,"ClientX: "),d=Te(h,L),h.forEach(r),p=y(c),f=a(c,"SPAN",{class:!0});var g=i(f);m=Te(g,"ClientY: "),u=Te(g,M),g.forEach(r),c.forEach(r),l.forEach(r),w=y(e),v=a(e,"DIV",{class:!0});var x=i(v);C=a(x,"DIV",{class:!0});var b=i(C);A.l(b),b.forEach(r),x.forEach(r),E=y(e),S=a(e,"CANVAS",{class:!0,tabindex:!0}),i(S).forEach(r),this.h()},h(){l(o,"class","svelte-7ik99c"),l(f,"class","svelte-7ik99c"),l(n,"class","info-mouse svelte-7ik99c"),l(t,"class","debug"),l(C,"class","rmenu nvisible svelte-7ik99c"),l(v,"class","wrapper svelte-7ik99c"),l(S,"class","canvas"),l(S,"tabindex","0")},m(a,i){c(a,t,i),h(t,n),h(n,o),h(o,s),h(o,d),h(n,p),h(n,f),h(f,m),h(f,u),e[6](t),c(a,w,i),c(a,v,i),h(v,C),A.m(C,null),e[8](C),c(a,E,i),c(a,S,i),e[9](S)},p(e,t){32&t[0]&&L!==(L=e[5].x.toFixed(2)+"")&&We(d,L),32&t[0]&&M!==(M=e[5].y.toFixed(2)+"")&&We(u,M),k===(k=P(e))&&A?A.p(e,t):(A.d(1),A=k(e),A&&(A.c(),A.m(C,null)))},i:g,o:g,d(n){n&&r(t),e[6](null),n&&r(w),n&&r(v),A.d(),e[8](null),n&&r(E),n&&r(S),e[9](null)}}}function oo(e,t,n){let o,s;mt.set("\n# Scalable objects\n\nWe can achieve this with vertex group movement or bones movement.\n\nVertex group's cannot detecting by gltf so just used bones but use it in small parts not all crane.\n\n");const a=new me;let i,r,l,d,c,h,g;const p=new Map,f={color:16777215,background:16777215,effectController:{exposure:.5},lights:{hemisphereLightOn:!0,hemisphereLightColor:16777215,hemisphereGroundColor:16777215,hemisphereIntensity:.5,dirLightOn:!0,dirLightColor:16776168,dirLightIntensity:3.2},fog:{fogColor:14474460,near:1,far:100},modelColor:16777215},m=new Y;m.background=new q(13421772),m.fog=new te(13421772,.002),m.add(a);const u=new Pe(f.lights.hemisphereLightColor,f.lights.hemisphereGroundColor,f.lights.hemisphereIntensity);u.position.set(0,20,0),u.name="threejs-hemi",m.add(u);const w=new ae(f.lights.dirLightColor,f.lights.dirLightIntensity);w.position.set(-1,1.75,1),w.position.multiplyScalar(20),w.name="threejs-dirLight",m.add(w),w.castShadow=!0,w.shadow.mapSize.width=256,w.shadow.mapSize.height=256;const v=new _e;v.setDecoderPath("./assets/lib/draco/");const C=new Xe;C.setDRACOLoader(v);const x=new W(50);x.position.z=3,x.position.y=5,x.position.x=8,x.position.multiplyScalar(5),m.add(x);const b=(new ge).load("assets/materials/matcaps/3E3E3E_AEAEAE_848484_777777-64px.png");p.set("matcap",new pe({matcap:b})),p.set("basic",new le({color:16777215}));const y=new xe(1e4,1e4),E=new se(y,p.get("basic"));E.position.y=0,E.rotation.x=-Math.PI/2,E.receiveShadow=!0,m.add(E);const S=new V({autoPlace:!1});{S.addColor(f,"background").onChange((()=>{m.background=new q(f.background)}));S.addFolder("render").add(f.effectController,"exposure",0,1,1e-4).onChange((e=>i.toneMappingExposure=e));const e=S.addFolder("fog");e.addColor(f.fog,"fogColor").onChange((()=>m.fog=new Me(f.fog.fogColor,f.fog.near,f.fog.far))),e.add(f.fog,"far",0,500,1).onChange((()=>m.fog=new Me(f.fog.fogColor,f.fog.near,f.fog.far))),e.add(f.fog,"near",0,500,1).onChange((()=>m.fog=new Me(f.fog.fogColor,f.fog.near,f.fog.far)))}var L;C.load("./assets/3d/craneRTG.glb",(L="Axes",e=>{const t=e.scene;t.traverse((e=>{var t;(null===(t=e)||void 0===t?void 0:t.isSkinnedMesh)&&(e.frustumCulled=!1)})),a.add(...t.children),console.log(a);const n=new Qe(a);n.visible=!0,a.add(n),f.modelColor=a.getObjectByName("ARMG").material.color.getHex(),S.addColor(f,"modelColor").onChange((e=>a.getObjectByName("ARMG").material.color.setHex(e)));const o=S.addFolder("scale");o.open(),o.add(a.getObjectByName("BoneX").position,"x",-100,100,1),o.add(a.getObjectByName("BoneY").position,"z",-100,100,1),o.add(a.getObjectByName("BoneZ").position,"y",-100,100,1),o.add(a.getObjectByName("Bone").position,"z",-100,100,1),S.addFolder("BoneTrolleyY").add(a.getObjectByName("BoneTrolleyY").position,"z",-100,100,1);const s=S.addFolder("TrolleyAxes");s.add(a.getObjectByName("TrolleyAxes").position,"x",-100,100,1),s.add(a.getObjectByName("TrolleyAxes").position,"y",-100,100,1),s.add(a.getObjectByName("TrolleyAxes").position,"z",-100,100,1);const i=S.addFolder("BoneHoistZ");i.add(a.getObjectByName("BoneHoistZ").position,"y",-30,30,.1),i.add(a.getObjectByName("BoneHoist").position,"y",-30,30,.1).name("BoneHoist");const r=S.addFolder("HoistAxes"),l=r.addFolder("Position");l.add(a.getObjectByName("HoistAxes").position,"x",-100,100,1),l.add(a.getObjectByName("HoistAxes").position,"y",-100,100,1),l.add(a.getObjectByName("HoistAxes").position,"z",-100,100,1);const d=r.addFolder("HoistPosition");d.add(a.getObjectByName("Hoist").position,"x",-100,100,1),d.add(a.getObjectByName("Hoist").position,"y",-100,100,1),d.add(a.getObjectByName("Hoist").position,"z",-100,100,1);const c=r.addFolder("Rotation");c.add({x:0},"x",-180,180,1).onChange((e=>a.getObjectByName("HoistAxes").rotation.x=Ee.degToRad(e))),c.add({y:0},"y",-180,180,1).onChange((e=>a.getObjectByName("HoistAxes").rotation.y=Ee.degToRad(e))),c.add({z:0},"z",-180,180,1).onChange((e=>a.getObjectByName("HoistAxes").rotation.z=Ee.degToRad(e)));const h=S.addFolder(L);h.add(a.getObjectByName(L).position,"x",-100,100,1),h.add(a.getObjectByName(L).position,"y",-100,100,1),h.add(a.getObjectByName(L).position,"z",-100,100,1)}));const M=new Oe,P=new G((e=>{for(const t of e)t.contentBoxSize&&(x.aspect=s.offsetWidth/s.offsetHeight,x.updateProjectionMatrix(),i.setSize(s.offsetWidth,s.offsetHeight),D())})),k=new Ve(-1,-1),A=new Ve(-1,-1),B=e=>{A.x=e.clientX-s.getBoundingClientRect().left,A.y=e.clientY-s.getBoundingClientRect().top,n(5,k.x=A.x/s.clientWidth*2-1,k),n(5,k.y=-A.y/s.clientHeight*2+1,k)},H=e=>{e.stopPropagation(),e.preventDefault(),n(3,l=c),c&&n(0,d="#"+l.material.color.getHexString());let t=s.getBoundingClientRect().height-A.y-h.getBoundingClientRect().height;t=t>=0?0:t;let o=s.getBoundingClientRect().width-A.x-h.getBoundingClientRect().width;o=o>=0?0:o,n(4,h.style.left=`${A.x+o}px`,h),n(4,h.style.top=`${A.y+t}px`,h),h.classList.remove("nvisible")},R=new Ve,j=new Ve,T=e=>{const t=c;R.x=e.clientX,R.y=e.clientY,e.button-2<0&&(h.classList.contains("nvisible")||h.classList.add("nvisible")),0==e.button&&t&&t!==g.object&&g.attach(t)},z=e=>{j.x=e.clientX,j.y=e.clientY,0!==R.distanceTo(j)||c||g.detach()};F((()=>{o.appendChild(S.domElement),i=new _({canvas:s}),i.setPixelRatio(Math.min(window.devicePixelRatio,2)),P.observe(s),r=new X(x,s),r.enableDamping=!0,r.dampingFactor=.05,r.screenSpacePanning=!1,r.maxPolarAngle=Math.PI/2-.1,g=new Ke(x,i.domElement),g.addEventListener("dragging-changed",(e=>{r.enabled=!e.value})),m.add(g),s.addEventListener("pointermove",B),s.addEventListener("contextmenu",H),s.addEventListener("pointerdown",T),s.addEventListener("pointerup",z),i.setAnimationLoop(D)}));const D=()=>{var e;r.update(),M.setFromCamera(k,x);const t=M.intersectObjects(a.children,!0);c=null===(e=t[0])||void 0===e?void 0:e.object.parent,i.render(m,x)};return I((()=>{m.clear(),p.forEach((e=>e.dispose())),S.destroy(),a.clear(),i.dispose(),r.dispose(),g.dispose(),i.forceContextLoss(),P.unobserve(s),s.removeEventListener("pointermove",B)})),e.$$.update=()=>{var t;1&e.$$.dirty[0]&&(t=d,l&&l.material.color.setStyle(t))},[d,o,s,l,h,k,function(e){ee[e?"unshift":"push"]((()=>{o=e,n(1,o)}))},function(){d=this.value,n(0,d)},function(e){ee[e?"unshift":"push"]((()=>{h=e,n(4,h)}))},function(e){ee[e?"unshift":"push"]((()=>{s=e,n(2,s)}))}]}class so extends t{constructor(e){super(),n(this,e,oo,no,o,{},[-1,-1])}}function ao(e){let t,n;return{c(){t=x("span"),n=je("Nothing here"),this.h()},l(e){t=a(e,"SPAN",{class:!0});var o=i(t);n=Te(o,"Nothing here"),o.forEach(r),this.h()},h(){l(t,"class","svelte-7ik99c")},m(e,o){c(e,t,o),h(t,n)},p:g,d(e){e&&r(t)}}}function io(e){let t,n,o,s,d,g,p,f,m,u=e[3].name+"";return{c(){t=x("span"),n=je(u),o=b(),s=x("label"),d=je("Head"),g=b(),p=x("input"),this.h()},l(e){t=a(e,"SPAN",{class:!0});var l=i(t);n=Te(l,u),l.forEach(r),o=y(e),s=a(e,"LABEL",{for:!0,class:!0});var c=i(s);d=Te(c,"Head"),c.forEach(r),g=y(e),p=a(e,"INPUT",{type:!0,id:!0,name:!0}),this.h()},h(){l(t,"class","svelte-7ik99c"),l(s,"for","head"),l(s,"class","svelte-7ik99c"),l(p,"type","color"),l(p,"id","head"),l(p,"name","head")},m(a,i){c(a,t,i),h(t,n),c(a,o,i),c(a,s,i),h(s,d),c(a,g,i),c(a,p,i),et(p,e[0]),f||(m=R(p,"input",e[7]),f=!0)},p(e,t){8&t[0]&&u!==(u=e[3].name+"")&&We(n,u),1&t[0]&&et(p,e[0])},d(e){e&&r(t),e&&r(o),e&&r(s),e&&r(g),e&&r(p),f=!1,m()}}}function ro(e){let t,n,o,s,d,p,f,m,u,w,v,C,E,S,L=e[5].x.toFixed(2)+"",M=e[5].y.toFixed(2)+"";function P(e,t){return e[3]?io:ao}let k=P(e),A=k(e);return{c(){t=x("div"),n=x("div"),o=x("span"),s=je("ClientX: "),d=je(L),p=b(),f=x("span"),m=je("ClientY: "),u=je(M),w=b(),v=x("div"),C=x("div"),A.c(),E=b(),S=x("canvas"),this.h()},l(e){t=a(e,"DIV",{class:!0});var l=i(t);n=a(l,"DIV",{class:!0});var c=i(n);o=a(c,"SPAN",{class:!0});var h=i(o);s=Te(h,"ClientX: "),d=Te(h,L),h.forEach(r),p=y(c),f=a(c,"SPAN",{class:!0});var g=i(f);m=Te(g,"ClientY: "),u=Te(g,M),g.forEach(r),c.forEach(r),l.forEach(r),w=y(e),v=a(e,"DIV",{class:!0});var x=i(v);C=a(x,"DIV",{class:!0});var b=i(C);A.l(b),b.forEach(r),x.forEach(r),E=y(e),S=a(e,"CANVAS",{class:!0,tabindex:!0}),i(S).forEach(r),this.h()},h(){l(o,"class","svelte-7ik99c"),l(f,"class","svelte-7ik99c"),l(n,"class","info-mouse svelte-7ik99c"),l(t,"class","debug"),l(C,"class","rmenu nvisible svelte-7ik99c"),l(v,"class","wrapper svelte-7ik99c"),l(S,"class","canvas"),l(S,"tabindex","0")},m(a,i){c(a,t,i),h(t,n),h(n,o),h(o,s),h(o,d),h(n,p),h(n,f),h(f,m),h(f,u),e[6](t),c(a,w,i),c(a,v,i),h(v,C),A.m(C,null),e[8](C),c(a,E,i),c(a,S,i),e[9](S)},p(e,t){32&t[0]&&L!==(L=e[5].x.toFixed(2)+"")&&We(d,L),32&t[0]&&M!==(M=e[5].y.toFixed(2)+"")&&We(u,M),k===(k=P(e))&&A?A.p(e,t):(A.d(1),A=k(e),A&&(A.c(),A.m(C,null)))},i:g,o:g,d(n){n&&r(t),e[6](null),n&&r(w),n&&r(v),A.d(),e[8](null),n&&r(E),n&&r(S),e[9](null)}}}function lo(e,t,n){let o,s;mt.set("\n# Fences\n\nRepeating texture is very good but displacement is totaly useless due to you should add hunders of vertex to see effect.\n\nWe can combine this fences texture to our object also looks posible do it in modeling part(blender).\n");const a=new me;let i,r,l,d,c,h,g;const p=new Map,f={color:16777215,background:16777215,effectController:{exposure:.5},lights:{hemisphereLightOn:!0,hemisphereLightColor:16777215,hemisphereGroundColor:16777215,hemisphereIntensity:.5,dirLightOn:!0,dirLightColor:16776168,dirLightIntensity:3.2},fog:{fogColor:14474460,near:1,far:100},modelColor:16777215},m=new Y;m.background=new q(13421772),m.fog=new te(13421772,.002),m.add(a);const u=new Pe(f.lights.hemisphereLightColor,f.lights.hemisphereGroundColor,f.lights.hemisphereIntensity);u.position.set(0,20,0),u.name="threejs-hemi",m.add(u);const w=new ae(f.lights.dirLightColor,f.lights.dirLightIntensity);w.position.set(-1,1.75,1),w.position.multiplyScalar(20),w.name="threejs-dirLight",m.add(w),w.castShadow=!0,w.shadow.mapSize.width=256,w.shadow.mapSize.height=256;const v=new _e;v.setDecoderPath("./assets/lib/draco/");(new Xe).setDRACOLoader(v);const C=new W(50);C.position.z=3,C.position.y=5,C.position.x=8,C.position.multiplyScalar(5),m.add(C);const x=new ge,b=x.load("assets/materials/matcaps/3E3E3E_AEAEAE_848484_777777-64px.png");p.set("matcap",new pe({matcap:b})),p.set("basic",new le({color:16777215}));const y={color:x.load("assets/materials/objects/metalFence/Metal_Fence_001_basecolor.jpg"),ambientOcclusion:x.load("assets/materials/objects/metalFence/Metal_Fence_001_ambientOcclusion.jpg"),height:x.load("assets/materials/objects/metalFence/Metal_Fence_001_height.png"),normal:x.load("assets/materials/objects/metalFence/Metal_Fence_001_normal.jpg"),roughness:x.load("assets/materials/objects/metalFence/Metal_Fence_001_roughness.jpg"),metalness:x.load("assets/materials/objects/metalFence/Metal_Fence_001_metallic.jpg"),alpha:x.load("assets/materials/objects/metalFence/Metal_Fence_001_opacity.jpg")};p.set("fence",new Le({side:Re,transparent:!0,alphaMap:y.alpha,map:y.color,aoMap:y.ambientOcclusion,aoMapIntensity:1,roughnessMap:y.roughness,metalnessMap:y.metalness,displacementMap:y.height,normalMap:y.normal})),Object.keys(y).forEach((e=>{y[e].wrapS=st,y[e].wrapT=st,y[e].repeat.setY(1),y[e].repeat.setX(50)}));const E=new xe(500,10),S=new se(E,p.get("fence"));S.position.setY(5),a.add(S);const L=new xe(1e4,1e4),M=new se(L,p.get("basic"));M.position.y=0,M.rotation.x=-Math.PI/2,M.receiveShadow=!0,m.add(M);const P=new V({autoPlace:!1});{P.addColor(f,"background").onChange((()=>{m.background=new q(f.background)}));P.addFolder("render").add(f.effectController,"exposure",0,1,1e-4).onChange((e=>i.toneMappingExposure=e));const e=P.addFolder("fog");e.addColor(f.fog,"fogColor").onChange((()=>m.fog=new Me(f.fog.fogColor,f.fog.near,f.fog.far))),e.add(f.fog,"far",0,500,1).onChange((()=>m.fog=new Me(f.fog.fogColor,f.fog.near,f.fog.far))),e.add(f.fog,"near",0,500,1).onChange((()=>m.fog=new Me(f.fog.fogColor,f.fog.near,f.fog.far)))}const k=new Oe,A=new G((e=>{for(const t of e)t.contentBoxSize&&(C.aspect=s.offsetWidth/s.offsetHeight,C.updateProjectionMatrix(),i.setSize(s.offsetWidth,s.offsetHeight),$())})),B=new Ve(-1,-1),H=new Ve(-1,-1),R=e=>{H.x=e.clientX-s.getBoundingClientRect().left,H.y=e.clientY-s.getBoundingClientRect().top,n(5,B.x=H.x/s.clientWidth*2-1,B),n(5,B.y=-H.y/s.clientHeight*2+1,B)},j=e=>{e.stopPropagation(),e.preventDefault(),n(3,l=c),c&&n(0,d="#"+l.material.color.getHexString());let t=s.getBoundingClientRect().height-H.y-h.getBoundingClientRect().height;t=t>=0?0:t;let o=s.getBoundingClientRect().width-H.x-h.getBoundingClientRect().width;o=o>=0?0:o,n(4,h.style.left=`${H.x+o}px`,h),n(4,h.style.top=`${H.y+t}px`,h),h.classList.remove("nvisible")},T=new Ve,z=new Ve,D=e=>{const t=c;T.x=e.clientX,T.y=e.clientY,e.button-2<0&&(h.classList.contains("nvisible")||h.classList.add("nvisible")),0==e.button&&t&&t!==g.object&&g.attach(t)},N=e=>{z.x=e.clientX,z.y=e.clientY,0!==T.distanceTo(z)||c||g.detach()};F((()=>{o.appendChild(P.domElement),i=new _({canvas:s}),i.setPixelRatio(Math.min(window.devicePixelRatio,2)),A.observe(s),r=new X(C,s),r.enableDamping=!0,r.dampingFactor=.05,r.screenSpacePanning=!1,r.maxPolarAngle=Math.PI/2-.1,g=new Ke(C,i.domElement),g.addEventListener("dragging-changed",(e=>{r.enabled=!e.value})),m.add(g),s.addEventListener("pointermove",R),s.addEventListener("contextmenu",j),s.addEventListener("pointerdown",D),s.addEventListener("pointerup",N),i.setAnimationLoop($)}));const $=()=>{var e;r.update(),k.setFromCamera(B,C);const t=k.intersectObjects(a.children,!0);c=null===(e=t[0])||void 0===e?void 0:e.object.parent,i.render(m,C)};return I((()=>{m.clear(),p.forEach((e=>e.dispose())),P.destroy(),a.clear(),i.dispose(),r.dispose(),g.dispose(),i.forceContextLoss(),A.unobserve(s),s.removeEventListener("pointermove",R)})),e.$$.update=()=>{var t;1&e.$$.dirty[0]&&(t=d,l&&l.material.color.setStyle(t))},[d,o,s,l,h,B,function(e){ee[e?"unshift":"push"]((()=>{o=e,n(1,o)}))},function(){d=this.value,n(0,d)},function(e){ee[e?"unshift":"push"]((()=>{h=e,n(4,h)}))},function(e){ee[e?"unshift":"push"]((()=>{s=e,n(2,s)}))}]}class co extends t{constructor(e){super(),n(this,e,lo,ro,o,{},[-1,-1])}}function ho(e){let t,n,o,s,d,p,f,m,u,w,v,C,E,S,L,M,P,k,A,B,H,R,j,T,z,F,I,D,N=e[0].name+"",$=e[0].info+"",O=e[0].size+"",V=e[0].author+"";return{c(){t=x("div"),n=x("div"),o=x("a"),s=je(N),f=b(),m=x("div"),u=x("span"),w=je($),v=b(),C=x("span"),E=x("b"),S=je("Size:"),L=b(),M=je(O),P=b(),k=x("span"),A=x("b"),B=je("Author:"),H=b(),R=je(V),j=b(),T=x("span"),z=x("b"),F=je("Date:"),I=b(),D=je(e[1]),this.h()},l(l){t=a(l,"DIV",{class:!0});var d=i(t);n=a(d,"DIV",{class:!0});var c=i(n);o=a(c,"A",{href:!0,title:!0});var h=i(o);s=Te(h,N),h.forEach(r),c.forEach(r),f=y(d),m=a(d,"DIV",{class:!0});var g=i(m);u=a(g,"SPAN",{class:!0});var p=i(u);w=Te(p,$),p.forEach(r),v=y(g),C=a(g,"SPAN",{class:!0});var x=i(C);E=a(x,"B",{});var b=i(E);S=Te(b,"Size:"),b.forEach(r),L=y(x),M=Te(x,O),x.forEach(r),P=y(g),k=a(g,"SPAN",{class:!0});var G=i(k);A=a(G,"B",{});var Y=i(A);B=Te(Y,"Author:"),Y.forEach(r),H=y(G),R=Te(G,V),G.forEach(r),j=y(g),T=a(g,"SPAN",{class:!0});var W=i(T);z=a(W,"B",{});var _=i(z);F=Te(_,"Date:"),_.forEach(r),I=y(W),D=Te(W,e[1]),W.forEach(r),g.forEach(r),d.forEach(r),this.h()},h(){l(o,"href",d=e[0].URL),l(o,"title",p=e[0].URL),l(n,"class","card-pic svelte-1inpv5o"),l(u,"class","svelte-1inpv5o"),l(C,"class","svelte-1inpv5o"),l(k,"class","svelte-1inpv5o"),l(T,"class","svelte-1inpv5o"),l(m,"class","card-info svelte-1inpv5o"),l(t,"class","card svelte-1inpv5o")},m(e,a){c(e,t,a),h(t,n),h(n,o),h(o,s),h(t,f),h(t,m),h(m,u),h(u,w),h(m,v),h(m,C),h(C,E),h(E,S),h(C,L),h(C,M),h(m,P),h(m,k),h(k,A),h(A,B),h(k,H),h(k,R),h(m,j),h(m,T),h(T,z),h(z,F),h(T,I),h(T,D)},p(e,[t]){1&t&&N!==(N=e[0].name+"")&&We(s,N),1&t&&d!==(d=e[0].URL)&&l(o,"href",d),1&t&&p!==(p=e[0].URL)&&l(o,"title",p),1&t&&$!==($=e[0].info+"")&&We(w,$),1&t&&O!==(O=e[0].size+"")&&We(M,O),1&t&&V!==(V=e[0].author+"")&&We(R,V)},i:g,o:g,d(e){e&&r(t)}}}function go(e,t,n){let{asset:o}=t;const s=new Date(o.dateModified),a=(e=>{let t=Math.floor(e/1e3),n=0;if(t<2)return"a moment ago";if(t<5)return"moments ago";if(t<60)return t+" seconds ago";if(t<120)return"a minute ago";if(t<3600){for(;t>=60;)t-=60,n+=1;return n+" minutes ago"}if(t<7200)return"an hour ago";if(t<86400){for(;t>=3600;)t-=3600,n+=1;return n+" hours ago"}if(t<172800)return"a day ago";if(t<604800){for(;t>=172800;)t-=172800,n+=1;return n+" days ago"}if(t<1209600)return"a week ago";if(t<2592e3){for(;t>=604800;)t-=604800,n+=1;return n+" weeks ago"}if(t<5184e3)return"a month ago";if(t<31536e3){for(;t>=2592e3;)t-=2592e3,n+=1;return n+" months ago"}return t<141912e4?"more than year ago":"never"})(Date.now()-s.getTime());return e.$$set=e=>{"asset"in e&&n(0,o=e.asset)},[o,a]}class po extends t{constructor(e){super(),n(this,e,go,ho,o,{asset:0})}}const fo=[{name:"craneRTG.blend",info:"Blender file of modifiable RTG",URL:"./assets/draw/craneRTG.blend",author:"Eray",size:"1.4 MB",dateModified:"2021-11-21 05:33:47 +0300"},{info:"Blender file of coils and crane",URL:"./assets/draw/craneCoils.blend",author:"Eray",size:"1.06 MB",dateModified:"2021-11-21 05:33:47 +0300",name:"craneCoils.blend"},{info:"GLB file, web optimized",URL:"./assets/3d/craneRTG.glb",author:"Eray",size:"45.12 KB",dateModified:"2021-11-21 05:33:47 +0300",name:"craneRTG.glb"},{info:"Test object GLB file, web optimized",URL:"./assets/3d/electpole.glb",author:"Eray",size:"4.88 KB",dateModified:"2021-11-21 05:33:47 +0300",name:"electpole.glb"},{info:"Test object GLB file, web optimized",URL:"./assets/3d/tree.glb",author:"Eray",size:"3.63 KB",dateModified:"2021-11-21 05:33:47 +0300",name:"tree.glb"},{info:"Test object GLB file, web optimized",URL:"./assets/3d/treec.glb",author:"Eray",size:"3.12 KB",dateModified:"2021-11-21 05:33:47 +0300",name:"treec.glb"}];function mo(e,t,n){const o=e.slice();return o[0]=t[n],o}function uo(e){let t,n;return t=new po({props:{asset:e[0]}}),{c(){A(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,o){H(t,e,o),n=!0},p:g,i(e){n||(C(t.$$.fragment,e),n=!0)},o(e){P(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function wo(e){let t,n,o,s,d,g,p=fo,f=[];for(let a=0;a<p.length;a+=1)f[a]=uo(mo(e,p,a));const m=e=>P(f[e],1,1,(()=>{f[e]=null}));return{c(){t=x("div"),n=x("h1"),o=je("Downloadable assets"),s=b(),d=x("div");for(let e=0;e<f.length;e+=1)f[e].c();this.h()},l(e){t=a(e,"DIV",{class:!0});var l=i(t);n=a(l,"H1",{});var c=i(n);o=Te(c,"Downloadable assets"),c.forEach(r),s=y(l),d=a(l,"DIV",{class:!0});var h=i(d);for(let t=0;t<f.length;t+=1)f[t].l(h);h.forEach(r),l.forEach(r),this.h()},h(){l(d,"class","assets svelte-1nxm3c2"),l(t,"class","fit")},m(e,a){c(e,t,a),h(t,n),h(n,o),h(t,s),h(t,d);for(let t=0;t<f.length;t+=1)f[t].m(d,null);g=!0},p(e,[t]){if(0&t){let n;for(p=fo,n=0;n<p.length;n+=1){const o=mo(e,p,n);f[n]?(f[n].p(o,t),C(f[n],1)):(f[n]=uo(o),f[n].c(),C(f[n],1),f[n].m(d,null))}for(M(),n=p.length;n<f.length;n+=1)m(n);k()}},i(e){if(!g){for(let e=0;e<p.length;e+=1)C(f[e]);g=!0}},o(e){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)P(f[t]);g=!1},d(e){e&&r(t),j(f,e)}}}function vo(e){return mt.set(""),[]}class Co extends t{constructor(e){super(),n(this,e,vo,wo,o,{})}}function xo(e,t,n){const o=e.slice();return o[17]=t[n],o[18]=t,o[19]=n,o}function bo(e,t,n){const o=e.slice();return o[20]=t[n],o}function yo(e,t,n){const o=e.slice();return o[23]=t[n],o}function Eo(e){let t,n,o=e[23].name+"";return{c(){t=x("a"),n=je(o),this.h()},l(e){t=a(e,"A",{"data-id":!0,"data-name":!0,href:!0});var s=i(t);n=Te(s,o),s.forEach(r),this.h()},h(){l(t,"data-id",e[23].id),l(t,"data-name",e[23].name),l(t,"href",`#${e[23].id}`),de(t,"active",e[1]==e[23].id)},m(e,o){c(e,t,o),h(t,n)},p(e,n){66&n&&de(t,"active",e[1]==e[23].id)},d(e){e&&r(t)}}}function So(e){let t,n;return t=new bt({props:{icon:"plus",className:"arrow",width:"18"}}),{c(){A(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,o){H(t,e,o),n=!0},i(e){n||(C(t.$$.fragment,e),n=!0)},o(e){P(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Lo(e){let t,n;return t=new bt({props:{icon:"arrow",className:"arrow",position:"down",width:"18"}}),{c(){A(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,o){H(t,e,o),n=!0},i(e){n||(C(t.$$.fragment,e),n=!0)},o(e){P(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Mo(e){let t,n,o,s,d,g=e[20].name+"";return{c(){t=x("a"),n=je(g),this.h()},l(e){t=a(e,"A",{"data-id":!0,"data-name":!0,href:!0});var o=i(t);n=Te(o,g),o.forEach(r),this.h()},h(){l(t,"data-id",o=e[20].id),l(t,"data-name",s=e[20].name),l(t,"href",d=`#${e[20].id}`),de(t,"active",e[1]==e[20].id)},m(e,o){c(e,t,o),h(t,n)},p(e,a){1&a&&g!==(g=e[20].name+"")&&We(n,g),1&a&&o!==(o=e[20].id)&&l(t,"data-id",o),1&a&&s!==(s=e[20].name)&&l(t,"data-name",s),1&a&&d!==(d=`#${e[20].id}`)&&l(t,"href",d),3&a&&de(t,"active",e[1]==e[20].id)},d(e){e&&r(t)}}}function Po(e){let t,n,o,s,d,g,p,f,m,u,w,v,E=e[17].part+"";const S=[Lo,So],L=[];function A(e,t){return e[17].opened?0:1}function B(){return e[8](e[17],e[18],e[19])}d=A(e),g=L[d]=S[d](e);let H=e[17].components,T=[];for(let a=0;a<H.length;a+=1)T[a]=Mo(bo(e,H,a));return{c(){t=x("button"),n=x("span"),o=je(E),s=b(),g.c(),p=b(),f=x("div");for(let e=0;e<T.length;e+=1)T[e].c();m=b(),this.h()},l(e){t=a(e,"BUTTON",{type:!0,class:!0});var l=i(t);n=a(l,"SPAN",{});var d=i(n);o=Te(d,E),d.forEach(r),s=y(l),g.l(l),l.forEach(r),p=y(e),f=a(e,"DIV",{class:!0});var c=i(f);for(let t=0;t<T.length;t+=1)T[t].l(c);m=y(c),c.forEach(r),this.h()},h(){l(t,"type","button"),l(t,"class","collapse"),l(f,"class","count"),de(f,"ndisplay",!e[17].opened)},m(e,a){c(e,t,a),h(t,n),h(n,o),h(t,s),L[d].m(t,null),c(e,p,a),c(e,f,a);for(let t=0;t<T.length;t+=1)T[t].m(f,null);h(f,m),u=!0,w||(v=R(t,"click",B),w=!0)},p(n,s){e=n,(!u||1&s)&&E!==(E=e[17].part+"")&&We(o,E);let a=d;if(d=A(e),d!==a&&(M(),P(L[a],1,1,(()=>{L[a]=null})),k(),g=L[d],g||(g=L[d]=S[d](e),g.c()),C(g,1),g.m(t,null)),3&s){let t;for(H=e[17].components,t=0;t<H.length;t+=1){const n=bo(e,H,t);T[t]?T[t].p(n,s):(T[t]=Mo(n),T[t].c(),T[t].m(f,m))}for(;t<T.length;t+=1)T[t].d(1);T.length=H.length}1&s&&de(f,"ndisplay",!e[17].opened)},i(e){u||(C(g),u=!0)},o(e){P(g),u=!1},d(e){e&&r(t),L[d].d(),e&&r(p),e&&r(f),j(T,e),w=!1,v()}}}function ko(e){let t,n;return t=new bt({props:{icon:"arrow",className:"arrow"}}),{c(){A(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,o){H(t,e,o),n=!0},i(e){n||(C(t.$$.fragment,e),n=!0)},o(e){P(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Ao(e){let t,n;return t=new bt({props:{icon:"arrow",className:"arrow",position:"left"}}),{c(){A(t.$$.fragment)},l(e){B(t.$$.fragment,e)},m(e,o){H(t,e,o),n=!0},i(e){n||(C(t.$$.fragment,e),n=!0)},o(e){P(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Bo(e){let t,n,o,s,d,g,p,f,m,u,w,v,E,S,L,F,I,D,N,$,O,V,G,Y,W,_,X;document.title=t="Tuto3D - "+e[2];let U=e[6],q=[];for(let a=0;a<U.length;a+=1)q[a]=Eo(yo(e,U,a));let Z=e[0],K=[];for(let a=0;a<Z.length;a+=1)K[a]=Po(xo(e,Z,a));const J=e=>P(K[e],1,1,(()=>{K[e]=null})),Q=[Ao,ko],ee=[];function te(e,t){return e[4]?0:1}u=te(e),w=ee[u]=Q[u](e);var ne=e[7].find(e[12]).component;return ne&&(O=new ne({})),G=new Ot({}),{c(){n=b(),o=x("div"),s=x("div");for(let e=0;e<q.length;e+=1)q[e].c();d=b();for(let e=0;e<K.length;e+=1)K[e].c();p=b(),f=x("div"),m=x("button"),w.c(),v=b(),E=x("span"),S=je(e[2]),L=b(),F=x("button"),I=je("Information"),N=b(),$=x("div"),O&&A(O.$$.fragment),V=b(),A(G.$$.fragment),this.h()},l(t){ft('[data-svelte="svelte-1re3dxz"]',document.head).forEach(r),n=y(t),o=a(t,"DIV",{class:!0});var l=i(o);s=a(l,"DIV",{class:!0});var c=i(s);for(let e=0;e<q.length;e+=1)q[e].l(c);d=y(c);for(let e=0;e<K.length;e+=1)K[e].l(c);c.forEach(r),p=y(l),f=a(l,"DIV",{class:!0});var h=i(f);m=a(h,"BUTTON",{type:!0,class:!0});var g=i(m);w.l(g),g.forEach(r),v=y(h),E=a(h,"SPAN",{class:!0});var u=i(E);S=Te(u,e[2]),u.forEach(r),L=y(h),F=a(h,"BUTTON",{type:!0,class:!0,disabled:!0});var C=i(F);I=Te(C,"Information"),C.forEach(r),h.forEach(r),N=y(l),$=a(l,"DIV",{class:!0});var x=i($);O&&B(O.$$.fragment,x),V=y(x),B(G.$$.fragment,x),x.forEach(r),l.forEach(r),this.h()},h(){l(s,"class",g="side "+(e[4]?"":"close")),l(m,"type","button"),l(m,"class","click"),l(E,"class","txt"),l(F,"type","button"),l(F,"class","information"),F.disabled=D=!e[5],l(f,"class","top"),l($,"class","main"),l(o,"class",Y="layout "+(e[4]?"open":"close"))},m(t,a){c(t,n,a),c(t,o,a),h(o,s);for(let e=0;e<q.length;e+=1)q[e].m(s,null);h(s,d);for(let e=0;e<K.length;e+=1)K[e].m(s,null);e[9](s),h(o,p),h(o,f),h(f,m),ee[u].m(m,null),h(f,v),h(f,E),h(E,S),h(f,L),h(f,F),h(F,I),h(o,N),h(o,$),O&&H(O,$,null),h($,V),H(G,$,null),W=!0,_||(X=[R(m,"click",e[10]),R(F,"click",e[11])],_=!0)},p(e,[n]){if((!W||4&n)&&t!==(t="Tuto3D - "+e[2])&&(document.title=t),66&n){let t;for(U=e[6],t=0;t<U.length;t+=1){const o=yo(e,U,t);q[t]?q[t].p(o,n):(q[t]=Eo(o),q[t].c(),q[t].m(s,d))}for(;t<q.length;t+=1)q[t].d(1);q.length=U.length}if(3&n){let t;for(Z=e[0],t=0;t<Z.length;t+=1){const o=xo(e,Z,t);K[t]?(K[t].p(o,n),C(K[t],1)):(K[t]=Po(o),K[t].c(),C(K[t],1),K[t].m(s,null))}for(M(),t=Z.length;t<K.length;t+=1)J(t);k()}(!W||16&n&&g!==(g="side "+(e[4]?"":"close")))&&l(s,"class",g);let a=u;if(u=te(e),u!==a&&(M(),P(ee[a],1,1,(()=>{ee[a]=null})),k(),w=ee[u],w||(w=ee[u]=Q[u](e),w.c()),C(w,1),w.m(m,null)),(!W||4&n)&&We(S,e[2]),(!W||32&n&&D!==(D=!e[5]))&&(F.disabled=D),ne!==(ne=e[7].find(e[12]).component)){if(O){M();const e=O;P(e.$$.fragment,1,0,(()=>{T(e,1)})),k()}ne?(O=new ne({}),A(O.$$.fragment),C(O.$$.fragment,1),H(O,$,V)):O=null}(!W||16&n&&Y!==(Y="layout "+(e[4]?"open":"close")))&&l(o,"class",Y)},i(e){if(!W){for(let e=0;e<Z.length;e+=1)C(K[e]);C(w),O&&C(O.$$.fragment,e),C(G.$$.fragment,e),W=!0}},o(e){K=K.filter(Boolean);for(let t=0;t<K.length;t+=1)P(K[t]);P(w),O&&P(O.$$.fragment,e),P(G.$$.fragment,e),W=!1},d(t){t&&r(n),t&&r(o),j(q,t),j(K,t),e[9](null),ee[u].d(),O&&T(O),T(G),_=!1,z(X)}}}function Ho(e,t,n){let o;$(e,mt,(e=>n(5,o=e)));const s=[{id:"main",name:"Main",component:kt},{id:"models",name:"Models",component:xn},{id:"assets",name:"Assets",component:Co}],a=[{part:"Test",components:[{id:"box",name:"Box",component:It},{id:"box_renderc",name:"Box Render",component:Xn},{id:"material",name:"Material",component:Yt},{id:"box_params",name:"Box Params",component:Xt},{id:"box_material",name:"Box Material",component:Zt},{id:"box_env",name:"Box Environment",component:Qt},{id:"box_shadow",name:"Box Shadow",component:nn},{id:"text_box",name:"Canvas Texture",component:an},{id:"hover_box",name:"Hover Box",component:En},{id:"click_box",name:"Click Box",component:kn},{id:"outline_box",name:"Outline Box",component:jn},{id:"move_box",name:"Move Box",component:Nn},{id:"bone",name:"Bone",component:Qn},{id:"line",name:"Line",component:Zn},{id:"cable_pole",name:"Cable Pole",component:Yn},{id:"scalable",name:"Scalable Model",component:so},{id:"fences",name:"Fences",component:co}],opened:!1},{part:"Examples",components:[{id:"galaxy",name:"Galaxy",component:Ht},{id:"jungle_basic",name:"Jungle Basic",component:Tt}],opened:!1}],i=[...s,...a.flatMap((e=>e.components))];let r=s[0].id,l=s[0].name;const d=window.location.href.split("#")[1];if(void 0!==window.location.href.split("#")[1]){const e=i.find((e=>e.id===d));r=null==e?void 0:e.id,l=null==e?void 0:e.name,r||(r=s[0].id,l=s[0].name,history.replaceState(null,""," ")),s.map((e=>e.id)).includes(r)||(a.find((e=>e.components.find((e=>e.id==r)))).opened=!0)}let c;const h=e=>{void 0!==e.target.dataset.id&&(ut.set(!1),wt.set({}),n(1,r=e.target.dataset.id),n(2,l=e.target.dataset.name))};let g=!0;F((()=>{c.addEventListener("click",h)})),I((()=>{c.removeEventListener("click",h)}));return[a,r,l,c,g,o,s,i,(e,t,o)=>n(0,t[o].opened=!e.opened,a),function(e){ee[e?"unshift":"push"]((()=>{c=e,n(3,c)}))},()=>n(4,g=!g),()=>ut.update((e=>!e)),e=>e.id==r]}new class extends t{constructor(e){super(),n(this,e,Ho,Bo,o,{})}}({target:document.getElementById("app")});
